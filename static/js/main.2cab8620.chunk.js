(window["webpackJsonpargo-lite"]=window["webpackJsonpargo-lite"]||[]).push([[0],{1077:function(e,t,n){},1079:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(27),o=n.n(i),s=n(28),l=n(7),c=n(11),d=n(17),u=n(16),p=n(18),h=n(21),m=n(1),g=n.n(m),f=n(1084),b=n(24),E=n(259),O=n(355),v=n(104),y=n(105),N=n(41),w=n.n(N),S=n(63),j=n(5),D=n(20),C=n(8),x=(n(126),n(422),n(15)),_=n(274),L=n(19),T=_.a.create({position:L.a.TOP}),A=n(103),I=n.n(A),R=n(260),P=n.n(R),M=n(88),k=n.n(M);function F(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function G(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?F(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):F(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var H,z,B,U,V,W,Y,X,K,Z,q,J,Q,$,ee,te,ne={send:function(e){console.log("ipcRenderer.send(".concat(e,", ...)"))}};function ae(){ne.send(x.CHOOSE_GRAPH_FILE)}function re(){ne.send(x.CHOOSE_STATE_FILE)}function ie(){ne.send(x.OPEN_GRAPH,rn.import.graphFile,rn.import.stateFile)}function oe(e,t,n){n||(n="Test Project"),rn.import.loading=!0;var a={hasNodeFile:e,nodes:{path:rn.import.importConfig.nodeFile.path,hasColumns:rn.import.importConfig.nodeFile.hasColumns,columns:Object(j.toJS)(rn.import.importConfig.nodeFile.columns),mapping:Object(j.toJS)(rn.import.importConfig.nodeFile.mapping)},edges:{path:rn.import.importConfig.edgeFile.path,hasColumns:rn.import.importConfig.edgeFile.hasColumns,columns:Object(j.toJS)(rn.import.importConfig.edgeFile.columns),mapping:Object(j.toJS)(rn.import.importConfig.edgeFile.mapping),createMissing:rn.import.importConfig.edgeFile.createMissing},delimiter:t,newProjectName:n};ne.send(x.IMPORT_GRAPH,a),function(e){return me.apply(this,arguments)}(a).then(function(e){rn.import.postImportFilter(e.rawGraph),Object(j.runInAction)("load imported graph",function(){rn.graph.rawGraph=e.rawGraph,rn.graph.metadata=e.metadata,rn.graph.setUpFrame()}),rn.graph.nodes=rn.graph.initialGlobalConfig.nodes,rn.graph.overrides=new Map,rn.import.loading=!1,rn.import.dialogOpen=!1,rn.preferences.darkMode||rn.graph.frame.toggleDark(),rn.preferences.minimapShowing?rn.graph.frame.showMiniMap():rn.graph.frame.hideMiniMap(),rn.graph.frame.turnOffLabelCSSRenderer()})}function se(){(function(){return ge.apply(this,arguments)})().then(function(e){rn.import.postImportFilter(e.rawGraph),Object(j.runInAction)("load imported graph",function(){rn.graph.rawGraph=e.rawGraph,rn.graph.metadata=e.metadata,rn.graph.setUpFrame()}),rn.graph.nodes=rn.graph.initialGlobalConfig.nodes,rn.graph.overrides=new Map,rn.import.loading=!1,rn.import.gexfDialogOpen=!1,rn.preferences.darkMode||rn.graph.frame.toggleDark(),rn.preferences.minimapShowing?rn.graph.frame.showMiniMap():rn.graph.frame.hideMiniMap(),rn.graph.frame.turnOffLabelCSSRenderer()})}function le(e,t,n){return ce.apply(this,arguments)}function ce(){return(ce=Object(S.a)(w.a.mark(function e(t,n,a){var r,i;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return r=t,(i=new FileReader).readAsText(r),e.abrupt("return",new Promise(function(e,t){i.onload=function(){var t=i.result;n&&e(k()(t,{comment:"#",trim:!0,auto_parse:!0,skip_empty_lines:!0,columns:n,delimiter:a})),e(k()(t,{comment:"#",trim:!0,auto_parse:!0,skip_empty_lines:!0,columns:void 0,delimiter:a}))}}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function de(e){return ue.apply(this,arguments)}function ue(){return(ue=Object(S.a)(w.a.mark(function e(t){var n,a,r,i,o,s,l,c,d,u,p,h,m,g,f,b,E,O,v,y,N,S,j,D,C,x,_,L,T,A,I,R,P;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:for(n=new DOMParser,a=n.parseFromString(t,"text/xml"),r=a.getElementsByTagName("edge"),i=a.getElementsByTagName("node"),o=a.getElementsByTagName("attributes"),s=[],[],l=[],c=[],d={},u=0,p=o.length;u<p;u++)"node"===(h=o[u]).getAttribute("class")?s=h.getElementsByTagName("attribute"):"edge"===h.getAttribute("class")&&h.getElementsByTagName("attribute");for(m=0,g=s.length;m<g;m++)f=s[m],d[f.getAttribute("id")]=f.getAttribute("title");for(b=0,E=r.length;b<E;b++)O=r[b],v=O.getAttribute("source").toString(),y=O.getAttribute("target").toString(),l.push({source_id:v,target_id:y});for(N=0,S=i.length;N<S;N++){for(j=i[N],D=j.getAttribute("id").toString(),C=j.getElementsByTagName("attvalues"),x=[],0!=C.length&&(x=C[0].getElementsByTagName("attvalue")),_={id:D,degree:0,pagerank:0,node_id:D},L=0;L<x.length;L++)T=x[L].attributes.value.value,A=x[L].attributes.for||x[L].attributes.id,I=A.value,_[d[I]]=T;for(R=0;R<j.attributes.length;R++)P=j.attributes[R],_[P.name]=P.value;_.id=D,_.node_id=D,c.push(_)}return e.abrupt("return",[c,l]);case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}function pe(e){return he.apply(this,arguments)}function he(){return(he=Object(S.a)(w.a.mark(function e(t){var n,a;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=t,(a=new FileReader).readAsText(n),e.abrupt("return",new Promise(function(e,t){a.onload=function(){var t=a.result;e(de(t))}}));case 4:case"end":return e.stop()}},e)}))).apply(this,arguments)}function me(){return(me=Object(S.a)(w.a.mark(function e(t){var n,a,r,i,o,s,l,c,d,u;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.nodes.hasColumns?t.edges.mapping.fromId:parseInt(t.edges.mapping.fromId),a=t.nodes.hasColumns?t.edges.mapping.toId:parseInt(t.edges.mapping.toId),r=[],i=I()(),o={},!t.hasNodeFile){e.next=12;break}return e.next=8,le(rn.import.selectedNodeFileFromInput,t.nodes.hasColumns,t.delimiter);case 8:(r=e.sent).forEach(function(e){return i.addNode(e[t.nodes.mapping.id].toString(),G({id:e[t.nodes.mapping.id].toString(),degree:0},e))}),(r=r.map(function(e){return G({},e,{id:e[t.nodes.mapping.id].toString(),degree:0,pagerank:0})})).forEach(function(e){return o[e.id]=0});case 12:return e.next=14,le(rn.import.selectedEdgeFileFromInput,t.edges.hasColumns,t.delimiter);case 14:return s=e.sent,t.edges.createMissing&&s.forEach(function(e){var t=e[n].toString(),s=e[a].toString();i.hasNode(t)||(i.addNode(t,{id:t,degree:0}),r.push({id:t,degree:0,pagerank:0}),o[t]=0),i.hasNode(s)||(i.addNode(s,{id:s,degree:0}),r.push({id:s,degree:0,pagerank:0}),o[s]=0)}),l=new Set,c=[],d=function(e,t){var n="".concat(e,"\ud83d\udc49").concat(t);l.has(n)||(l.add(n),i.addLink(e,t),o[t]+=1,c.push({source_id:e,target_id:t}))},s.forEach(function(e){var t=e[n].toString(),r=e[a].toString();d(t,r),d(r,t)}),u=P()(i),r=r.map(function(e){return G({},e,{node_id:e.id,pagerank:u[e.id],degree:o[e.id]})}),e.abrupt("return",{rawGraph:{nodes:r,edges:c},metadata:{snapshotName:"Untitled Graph",fullNodes:r.length,fullEdges:Math.floor(c.length/2),nodeProperties:Object.keys(r[0]),nodeComputed:["pagerank","degree"],edgeProperties:["source_id","target_id"]}});case 23:case"end":return e.stop()}},e)}))).apply(this,arguments)}function ge(){return(ge=Object(S.a)(w.a.mark(function e(){var t,n,a,r,i,o,s,l,c;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,pe(rn.import.selectedGexfFileFromInput);case 2:return t=e.sent,n=t[0],a=t[1],r=I()(),i={},n.forEach(function(e){var t=e.id.toString();r.hasNode(t)||(r.addNode(t,e),i[t]=0)}),o=new Set,s=[],l=function(e,t){var n="".concat(e,"\ud83d\udc49").concat(t);o.has(n)||(o.add(n),r.addLink(e,t),i[t]+=1,s.push({source_id:e,target_id:t}))},a.forEach(function(e){var t=e.source_id.toString(),n=e.target_id.toString();l(t,n),l(n,t)}),c=P()(r),n=n.map(function(e){return G({},e,{node_id:e.id,pagerank:c[e.id],degree:i[e.id]})}),e.abrupt("return",{rawGraph:{nodes:n,edges:s},metadata:{snapshotName:"Untitled Graph",fullNodes:n.length,fullEdges:Math.floor(s.length/2),nodeProperties:Object.keys(n[0]),nodeComputed:["pagerank","degree"],edgeProperties:["source_id","target_id"]}});case 15:case"end":return e.stop()}},e)}))).apply(this,arguments)}var fe=(H=function(){function e(){Object(l.a)(this,e),Object(D.a)(this,"dialogOpen",z,this),Object(D.a)(this,"openDialogOpen",B,this),Object(D.a)(this,"openSnapshotDialogOpen",U,this),Object(D.a)(this,"shareDialogOpen",V,this),Object(D.a)(this,"statisticsDialogOpen",W,this),Object(D.a)(this,"helpDialogOpen",Y,this),Object(D.a)(this,"neighborDialogOpen",X,this),Object(D.a)(this,"dataSheetDialogOpen",K,this),Object(D.a)(this,"isRenderOptionsCardHidden",Z,this),Object(D.a)(this,"darkMode",q,this),Object(D.a)(this,"minimapShowing",J,this),Object(D.a)(this,"isStatusBarShowing",Q,this),Object(D.a)(this,"isNavbarInMinimalMode",$,this),Object(D.a)(this,"isLegendShowing",ee,this),Object(D.a)(this,"workspacePath",te,this)}return Object(c.a)(e,[{key:"loadUserConfig",value:function(){ne.send(x.LOAD_USER_CONFIG)}},{key:"saveUserConfig",value:function(){!function(e){ne.send(x.SAVE_USER_CONFIG,e)}({darkMode:this.darkMode,workspace:this.workspacePath})}},{key:"turnOnMinimalMode",value:function(){this.isRenderOptionsCardHidden=!0,this.minimapShowing=!1,this.isStatusBarShowing=!1,this.isNavbarInMinimalMode=!0,this.isLegendShowing=!1,appState.graph.frame?appState.graph.frame.hideMiniMap():console.log("Frame not ready when trying to toggle minimap.")}},{key:"turnOffMinimalMode",value:function(){this.isRenderOptionsCardHidden=!1,this.minimapShowing=!0,this.isStatusBarShowing=!0,this.isNavbarInMinimalMode=!1,this.isLegendShowing=!0,appState.graph.frame?appState.graph.frame.showMiniMap():console.log("Frame not ready when trying to toggle minimap.")}}]),e}(),z=Object(C.a)(H.prototype,"dialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),B=Object(C.a)(H.prototype,"openDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),U=Object(C.a)(H.prototype,"openSnapshotDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),V=Object(C.a)(H.prototype,"shareDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),W=Object(C.a)(H.prototype,"statisticsDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Y=Object(C.a)(H.prototype,"helpDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),X=Object(C.a)(H.prototype,"neighborDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),K=Object(C.a)(H.prototype,"dataSheetDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Z=Object(C.a)(H.prototype,"isRenderOptionsCardHidden",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.IS_IFRAME_WIDGET}}),q=Object(C.a)(H.prototype,"darkMode",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),J=Object(C.a)(H.prototype,"minimapShowing",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!x.IS_IFRAME_WIDGET}}),Q=Object(C.a)(H.prototype,"isStatusBarShowing",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!x.IS_IFRAME_WIDGET}}),$=Object(C.a)(H.prototype,"isNavbarInMinimalMode",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return x.IS_IFRAME_WIDGET}}),ee=Object(C.a)(H.prototype,"isLegendShowing",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!x.IS_IFRAME_WIDGET}}),te=Object(C.a)(H.prototype,"workspacePath",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),H),be=n(47),Ee=n(191),Oe=n(258),ve=n.n(Oe),ye=n(558),Ne=n(689);function we(e){var t=function(e){var t=new ye.Graph;return t.addNodesFrom(e.rawGraph.nodes.map(function(e){return[e.id,e]})),t.addEdgesFrom(e.rawGraph.edges.map(function(e){return[e.source_id,e.target_id]})),t}(e),n=ye.averageClustering(t);return console.log("Computing Clustering Coefficient"),n}function Se(e){return new Ne.ConnectedComponents(function(e){var t,n={};for(t=0;t<e.rawGraph.nodes.length;t++)n[e.rawGraph.nodes[t].id]=t;var a=new Ne.Graph(e.rawGraph.nodes.length);return e.rawGraph.edges.forEach(function(e){a.addEdge(n[e.source_id],n[e.target_id])}),[a,n]}(e)[0]).componentCount()}function je(e){var t=function(e){var t,n={};for(t=0;t<e.rawGraph.nodes.length;t++)n[e.rawGraph.nodes[t].id]=t;var a=new Ne.WeightedDiGraph(e.rawGraph.nodes.length);return e.rawGraph.edges.forEach(function(e){a.addEdge(new Ne.Edge(n[e.source_id],n[e.target_id],1))}),[a,n]}(e),n=t[0],a=t[1],r=-1;return e.rawGraph.nodes.forEach(function(t){var i=new Ne.Dijkstra(n,a[t.id]);e.rawGraph.nodes.forEach(function(e){if(i.hasPathTo(a[e.id])){var t=i.pathTo(a[e.id]).length;r=Math.max(r,t)}})}),r}var De,Ce,xe,_e,Le,Te,Ae,Ie,Re,Pe,Me,ke,Fe,Ge,He,ze,Be,Ue,Ve=n(180),We=n(354),Ye=n(752),Xe=n(424);function Ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function Ze(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ke(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ke(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var qe,Je,Qe,$e,et,tt,nt,at,rt,it,ot,st=(De=j.observable.ref,Ce=j.observable.ref,xe=function(){function e(){Object(l.a)(this,e),this.initialGlobalConfig={nodes:{colorBy:"pagerank",color:{scale:"Linear Scale",from:"#448AFF",to:"#E91E63"},sizeBy:"pagerank",size:{min:2,max:10,scale:"Linear Scale"},labelBy:"node_id",shape:"circle",labelSize:1,labelLength:10}},Object(D.a)(this,"nodes",_e,this),Object(D.a)(this,"enableDegree",Le,this),Object(D.a)(this,"enableDensity",Te,this),Object(D.a)(this,"enableDiameter",Ae,this),Object(D.a)(this,"enableCoefficient",Ie,this),Object(D.a)(this,"enableComponent",Re,this),Object(D.a)(this,"selectedNodes",Pe,this),this._lastSelectedSingleNode=null,this.nodesShowingLabels=[],Object(D.a)(this,"initialNodesShowingLabels",Me,this),Object(D.a)(this,"overrideConfig",ke,this),Object(D.a)(this,"rawGraph",Fe,this),Object(D.a)(this,"metadata",Ge,this),Object(D.a)(this,"frame",He,this),Object(D.a)(this,"positions",ze,this),Object(D.a)(this,"overrides",Be,this),Object(D.a)(this,"searchOrder",Ue,this),this.hasGraphLoaded=!1}return Object(c.a)(e,[{key:"getNeighborNodesFromRawGraph",value:function(e){var t=new Set;return this.rawGraph.edges.forEach(function(n){var a=n.source_id.toString(),r=n.target_id.toString();a===e&&r!==e&&t.add(r),r===e&&a!==e&&t.add(a)}),this.rawGraph.nodes.filter(function(e){return t.has(e.id.toString())})}},{key:"showNodes",value:function(e){var t=this;Object(j.runInAction)("show hidden nodes by ids",function(){t.rawGraph.nodes=t.rawGraph.nodes.map(function(t){return e.includes(t.id)?Ze({},t,{isHidden:!1}):t})})}},{key:"hideNodes",value:function(e){var t=this;Object(j.runInAction)("hide nodes by ids",function(){t.frame.removeNodesByIds(e),t.rawGraph.nodes=t.rawGraph.nodes.map(function(t){return e.includes(t.id)?Ze({},t,{isHidden:!0}):t})})}},{key:"removeNodes",value:function(e){var t=this;Object(j.runInAction)("remove nodes by ids",function(){t.frame.removeNodesByIds(e),t.rawGraph.nodes=t.rawGraph.nodes.filter(function(t){return!e.includes(t.id)}),t.rawGraph.edges=t.rawGraph.edges.filter(function(t){return!e.includes(t.source_id)&&!e.includes(t.target_id)})})}},{key:"getSnapshot",value:function(){return{rawGraph:this.rawGraph,overrides:this.overrides,nodesShowingLabels:this.nodesShowingLabels,positions:this.frame.getPositions(),metadata:this.metadata,global:{nodes:this.nodes}}}},{key:"saveImmediateStates",value:function(e){var t=this.getSnapshot();return e&&(e.noPosition&&(t.positions=void 0),e.noGlobal&&(t.global=void 0),e.noOverride&&(t.overrides=void 0)),JSON.stringify(t)}},{key:"loadImmediateStates",value:function(e){var t=JSON.parse(e);if(t){var n=new Map(Object.entries(t.overrides).map(function(e){var t=Object(Ee.a)(e,2),n=t[0],a=t[1];return[n,new Map(Object.entries(a))]}));this.overrides.clear(),this.overrides.merge(n),t.metadata&&(this.metadata=t.metadata),t.global&&(this.nodes=t.global.nodes),this.rawGraph=t.rawGraph,t.positions&&(this.positions=t.positions),t.nodesShowingLabels&&(this.initialNodesShowingLabels=t.nodesShowingLabels,this.nodesShowingLabels=t.nodesShowingLabels)}}},{key:"setUpFrame",value:function(){var e=this,t=new Xe.Frame(this.computedGraph);t.init(),t.display(),this.frame=t,t.ee.on("select-nodes",function(t){e.selectedNodes=t}),t.ee.on("show-node-label",function(t){e.nodesShowingLabels=t}),t.ee.on("right-click",function(t){var n=Object(Ve.b)({children:[Object(We.b)({onClick:function(){e.frame.toggleSelectedLabels()},text:"Toggle Labels",key:"Toggle Labels"}),Object(We.b)({onClick:function(){e.frame.unpinSelectedNodes()},text:"Unpin Selected",key:"Unpin Selected"}),e.frame.rightClickedNode&&Object(We.b)({onClick:function(){if(e.frame.rightClickedNode){var t=e.frame.rightClickedNode.data.ref.id.toString(),n=e.getNeighborNodesFromRawGraph(t);n.sort(function(e,t){return e.pagerank&&t.pagerank?t.pagerank-e.pagerank:0});for(var a=[],r=0;r<5&&r<n.length;r++)a.push(n[r].id);e.showNodes(a)}},text:"Show 5 Neighbors with Highest PageRank",key:"Show 5 Neighbors with Highest PageRank"})]});Ye.a.show(n,{left:t.pageX,top:t.pageY},function(){console.log("ContextMenu closed")})})}},{key:"lastSelectedSingleNode",get:function(){return 1===this.selectedNodes.length&&(this._lastSelectedSingleNode=this.selectedNodes[0]),this._lastSelectedSingleNode}},{key:"allPropertiesKeyList",get:function(){return ve()([].concat(Object(be.a)(this.metadata.nodeProperties),Object(be.a)(this.metadata.nodeComputed))).filter(function(e){return"id"!==e})}},{key:"hasGraph",get:function(){return this.rawGraph.nodes.length>0&&(this.hasGraphLoaded=!0),this.hasGraphLoaded}},{key:"minMax",get:function(){for(var e={},t=0,n=[].concat(Object(be.a)(this.metadata.nodeProperties),Object(be.a)(this.metadata.nodeComputed));t<n.length;t++){var a=n[t],r=Number.MAX_VALUE,i=Number.MIN_VALUE,o=!0,s=!1,l=void 0;try{for(var c,d=this.rawGraph.nodes[Symbol.iterator]();!(o=(c=d.next()).done);o=!0){var u=c.value;r=Math.max(Math.min(r,u[a]),1e-7),i=Math.max(i,u[a])}}catch(p){s=!0,l=p}finally{try{o||null==d.return||d.return()}finally{if(s)throw l}}e[a]=[r,i]}return e}},{key:"nodeSizeScale",get:function(){return x.scales[this.nodes.size.scale]().domain(this.minMax[this.nodes.sizeBy]).range([this.nodes.size.min,this.nodes.size.max])}},{key:"nodeColorScale",get:function(){return x.scales[this.nodes.color.scale]().domain(this.minMax[this.nodes.colorBy]).range([this.nodes.color.from,this.nodes.color.to])}},{key:"computedGraph",get:function(){var e=this,t=I()();return this.rawGraph.nodes.forEach(function(n){if(!n.isHidden){var a=e.overrides.get(n.id.toString());t.addNode(n.id.toString(),{label:a&&a.get("label")||n[e.nodes.labelBy],size:a&&a.get("size")||e.nodeSizeScale(n[e.nodes.sizeBy]),color:a&&a.get("color")||e.nodeColorScale(n[e.nodes.colorBy]),shape:a&&a.get("shape")||n[e.nodes.shape],ref:n})}}),this.rawGraph.edges.forEach(function(e){t.hasNode(e.source_id.toString())&&t.hasNode(e.target_id.toString())&&t.addLink(e.source_id.toString(),e.target_id.toString())}),t}},{key:"numHiddenNodes",get:function(){return this.rawGraph.nodes.filter(function(e){return e.isHidden}).length}},{key:"averageClustering",get:function(){return we({rawGraph:this.rawGraph})}},{key:"components",get:function(){return Se({rawGraph:this.rawGraph})}},{key:"density",get:function(){return function(e){var t=e.rawGraph.nodes.length;return 2*(e.rawGraph.edges.length/2)/(t*(t-1))}({rawGraph:this.rawGraph})}},{key:"degree",get:function(){return function(e){var t=0;return e.rawGraph.nodes.forEach(function(e){t+=e.degree}),t/e.rawGraph.nodes.length}({rawGraph:this.rawGraph})}},{key:"diameter",get:function(){return je({rawGraph:this.rawGraph})}}]),e}(),_e=Object(C.a)(xe.prototype,"nodes",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.initialGlobalConfig.nodes}}),Le=Object(C.a)(xe.prototype,"enableDegree",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Te=Object(C.a)(xe.prototype,"enableDensity",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Ae=Object(C.a)(xe.prototype,"enableDiameter",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ie=Object(C.a)(xe.prototype,"enableCoefficient",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Re=Object(C.a)(xe.prototype,"enableComponent",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),Pe=Object(C.a)(xe.prototype,"selectedNodes",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),Object(C.a)(xe.prototype,"lastSelectedSingleNode",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"lastSelectedSingleNode"),xe.prototype),Me=Object(C.a)(xe.prototype,"initialNodesShowingLabels",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),ke=Object(C.a)(xe.prototype,"overrideConfig",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{color:"#000",size:5,label:"",shape:"circle"}}}),Fe=Object(C.a)(xe.prototype,"rawGraph",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{nodes:[],edges:[]}}}),Ge=Object(C.a)(xe.prototype,"metadata",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{fullNodes:0,fullEdges:0,nodeProperties:[],nodeComputed:["pagerank","degree"],edgeProperties:[],snapshotName:"loading..."}}}),Object(C.a)(xe.prototype,"allPropertiesKeyList",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"allPropertiesKeyList"),xe.prototype),He=Object(C.a)(xe.prototype,"frame",[De],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ze=Object(C.a)(xe.prototype,"positions",[Ce],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),Be=Object(C.a)(xe.prototype,"overrides",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return new Map}}),Ue=Object(C.a)(xe.prototype,"searchOrder",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"degree"}}),Object(C.a)(xe.prototype,"hasGraph",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"hasGraph"),xe.prototype),Object(C.a)(xe.prototype,"minMax",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"minMax"),xe.prototype),Object(C.a)(xe.prototype,"nodeSizeScale",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"nodeSizeScale"),xe.prototype),Object(C.a)(xe.prototype,"nodeColorScale",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"nodeColorScale"),xe.prototype),Object(C.a)(xe.prototype,"computedGraph",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"computedGraph"),xe.prototype),Object(C.a)(xe.prototype,"numHiddenNodes",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"numHiddenNodes"),xe.prototype),Object(C.a)(xe.prototype,"loadImmediateStates",[j.action],Object.getOwnPropertyDescriptor(xe.prototype,"loadImmediateStates"),xe.prototype),Object(C.a)(xe.prototype,"density",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"density"),xe.prototype),Object(C.a)(xe.prototype,"degree",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"degree"),xe.prototype),Object(C.a)(xe.prototype,"diameter",[j.computed],Object.getOwnPropertyDescriptor(xe.prototype,"diameter"),xe.prototype),xe);function lt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,a)}return n}function ct(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?lt(n,!0).forEach(function(t){Object(s.a)(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):lt(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}var dt,ut,pt,ht,mt,gt,ft,bt,Et,Ot,vt,yt,Nt,wt,St,jt,Dt=(qe=function(){function e(){Object(l.a)(this,e),Object(D.a)(this,"graphFile",Je,this),Object(D.a)(this,"stateFile",Qe,this),Object(D.a)(this,"dialogOpen",$e,this),Object(D.a)(this,"gexfDialogOpen",et,this),Object(D.a)(this,"loading",tt,this),Object(D.a)(this,"selectedEdgeFileFromInput",nt,this),Object(D.a)(this,"selectedNodeFileFromInput",at,this),Object(D.a)(this,"selectedGexfFileFromInput",rt,this),Object(D.a)(this,"importConfig",it,this),this.postImportFilteringOptions={"top 10 nodes with highest PageRank scores":function(e){var t=Object(be.a)(e.nodes);t.sort(function(e,t){return e.pagerank&&t.pagerank?t.pagerank-e.pagerank:0});for(var n=new Set,a=0;a<10&&a<t.length;a++)n.add(t[a].id);e.nodes=e.nodes.map(function(e){return n.has(e.id)?ct({},e,{isHidden:!1}):e})},"All Nodes":function(e){e.nodes=e.nodes.map(function(e){return ct({},e,{isHidden:!1})})}},this.defaultPostImportFilteringOption="top 10 nodes with highest PageRank scores",Object(D.a)(this,"selectedPostImportFilteringOption",ot,this)}return Object(c.a)(e,[{key:"postImportFilter",value:function(e){e.nodes=e.nodes.map(function(e){return ct({},e,{isHidden:!0})}),this.postImportFilteringOptions[this.selectedPostImportFilteringOption](e)}}]),e}(),Je=Object(C.a)(qe.prototype,"graphFile",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),Qe=Object(C.a)(qe.prototype,"stateFile",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),$e=Object(C.a)(qe.prototype,"dialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),et=Object(C.a)(qe.prototype,"gexfDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),tt=Object(C.a)(qe.prototype,"loading",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),nt=Object(C.a)(qe.prototype,"selectedEdgeFileFromInput",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),at=Object(C.a)(qe.prototype,"selectedNodeFileFromInput",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),rt=Object(C.a)(qe.prototype,"selectedGexfFileFromInput",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),it=Object(C.a)(qe.prototype,"importConfig",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{nodeFile:{path:"",topN:[],hasColumns:!0,ready:!1,columns:[],mapping:{id:"<UNK>"},delimiter:","},edgeFile:{path:"",ready:!1,hasColumns:!0,columns:[],topN:[],mapping:{fromId:"<UNK>",toId:"<UNK>"},createMissing:!0,delimiter:","}}}}),ot=Object(C.a)(qe.prototype,"selectedPostImportFilteringOption",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return this.defaultPostImportFilteringOption}}),qe),Ct=(dt=function e(){Object(l.a)(this,e),Object(D.a)(this,"projects",ut,this),Object(D.a)(this,"currentProject",pt,this),Object(D.a)(this,"currentSnapshotName",ht,this),Object(D.a)(this,"stringCopyOfSnapshot",mt,this),Object(D.a)(this,"isNewProjectDialogOpen",gt,this),Object(D.a)(this,"isProjectDetailDialogOpen",ft,this),Object(D.a)(this,"isSaveSnapshotDialogOpen",bt,this),Object(D.a)(this,"isRenameSnapshotDialogOpen",Et,this),Object(D.a)(this,"isFetching",Ot,this),Object(D.a)(this,"newProjectName",vt,this)},ut=Object(C.a)(dt.prototype,"projects",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),pt=Object(C.a)(dt.prototype,"currentProject",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),ht=Object(C.a)(dt.prototype,"currentSnapshotName",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Quick Save"}}),mt=Object(C.a)(dt.prototype,"stringCopyOfSnapshot",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return"Loading"}}),gt=Object(C.a)(dt.prototype,"isNewProjectDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),ft=Object(C.a)(dt.prototype,"isProjectDetailDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),bt=Object(C.a)(dt.prototype,"isSaveSnapshotDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Et=Object(C.a)(dt.prototype,"isRenameSnapshotDialogOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),Ot=Object(C.a)(dt.prototype,"isFetching",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),vt=Object(C.a)(dt.prototype,"newProjectName",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),dt),xt=(yt=function e(){Object(l.a)(this,e),Object(D.a)(this,"searchStr",Nt,this),Object(D.a)(this,"candidates",wt,this),Object(D.a)(this,"numCandidates",St,this),Object(D.a)(this,"panelOpen",jt,this)},Nt=Object(C.a)(yt.prototype,"searchStr",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),wt=Object(C.a)(yt.prototype,"candidates",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),St=Object(C.a)(yt.prototype,"numCandidates",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return 0}}),jt=Object(C.a)(yt.prototype,"panelOpen",[j.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),yt),_t=new function e(){Object(l.a)(this,e),this.preferences=new fe,this.graph=new st,this.import=new Dt,this.search=new xt,this.project=new Ct};window.appState=_t;var Lt=function(e){(function(e){return fetch(e,{method:"GET",mode:"cors"}).then(function(e){return e.text()}).catch(function(e){T.show({message:"Failed to fetch graph snapshot",intent:y.a.DANGER,timeout:-1}),console.error(e)})})(e).then(function(t){_t.graph.metadata.snapshotName=e.split("/").pop()||e.split("/").pop().pop(),_t.graph.loadImmediateStates(t)})},Tt=function(e){(function(e){var t="".concat(x.BACKEND_URL,"/snapshots?uuid=").concat(e);return fetch(t,{method:"GET",mode:"cors"}).then(function(e){return e.json()}).then(function(e){return e[0].body}).catch(function(e){T.show({message:"Failed to fetch graph snapshot",intent:y.a.DANGER,timeout:-1}),console.error(e)})})(e).then(function(e){_t.graph.metadata.snapshotName="Shared",_t.graph.loadImmediateStates(e)})};window.loadAndDisplaySnapshotFromURL=Lt,window.loadAndDisplaySnapshotFromStrapi=Tt,window.loadInitialSampleGraph=Object(S.a)(w.a.mark(function e(){var t,n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t="https://argo-graph-lite.s3.amazonaws.com/lesmiserables.json",!window.location.hash){e.next=9;break}if(!((n=window.location.hash.substring(1)).length>=4&&n.startsWith("http"))){e.next=7;break}try{t=decodeURIComponent(n)}catch(a){console.error(a),alert("Provided URL is not valid.")}e.next=9;break;case 7:return Tt(n),e.abrupt("return");case 9:Lt(t);case 10:case"end":return e.stop()}},e)})),window.saveSnapshotToString=function(){return _t.graph.saveImmediateStates()},window.addEventListener("load",function(e){window.loadInitialSampleGraph()});Object(j.autorun)(function(){!_t.graph.hasGraph&&_t.graph.rawGraph.nodes.length>0&&(_t.graph.hasGraph=!0)}),Object(j.autorun)(function(){_t.graph.frame&&(_t.graph.frame.updateGraph(_t.graph.computedGraph),_t.graph.frame.setAllNodesShapeWithOverride(_t.graph.nodes.shape,_t.graph.overrides),_t.graph.frame.setLabelRelativeSize(_t.graph.nodes.labelSize),_t.graph.frame.setLabelLength(_t.graph.nodes.labelLength))}),Object(j.autorun)(function(){_t.graph.frame&&_t.graph.positions&&(_t.graph.frame.paused=!0,_t.graph.frame.updatePositions(_t.graph.positions),_t.graph.positions=null,console.log("[autorun] Positions updated.")),_t.graph.frame&&_t.graph.initialNodesShowingLabels&&(_t.graph.frame.showLabels(_t.graph.initialNodesShowingLabels),_t.graph.initialNodesShowingLabels=null)}),Object(j.autorun)(function(){var e=_t.search.searchStr;e.length>=3?function(e){ne.send(x.SEARCH_REQUEST,e,rn.graph.searchOrder)}(e):(_t.search.panelOpen=!1,_t.search.candidates.splice(0,_t.search.candidates.length),_t.graph.frame&&_t.graph.frame.highlightNodeIds([],!0))}),Object(j.autorun)(function(){var e=_t.import.selectedEdgeFileFromInput,t=_t.import.importConfig.edgeFile.hasColumns,n=_t.import.importConfig.edgeFile.delimiter;if(e){var a=new FileReader;a.readAsText(e),a.onload=function(){var e=a.result.split("\n"),r=(e.length,e.map(function(e){return e.trim()}).filter(function(e,t){return t<20}).join("\n"));console.log(r);try{var i=t?k()(r,{comment:"#",trim:!0,auto_parse:!0,skip_empty_lines:!0,columns:t,delimiter:n}):k()(r,{comment:"#",trim:!0,auto_parse:!0,skip_empty_lines:!0,columns:void 0,delimiter:n});Object(j.runInAction)("preview top N lines of edge file",function(){_t.import.importConfig.edgeFile.topN=i,_t.import.importConfig.edgeFile.columns=Object.keys(i[0]).map(function(e){return"".concat(e)}),_t.import.importConfig.edgeFile.mapping.fromId=_t.import.importConfig.edgeFile.columns[0],_t.import.importConfig.edgeFile.mapping.toId=_t.import.importConfig.edgeFile.columns[1],_t.import.importConfig.edgeFile.ready=!0})}catch(o){T.show({message:"Error: Fails to parse file",intent:y.a.DANGER,timeout:-1})}},a.onerror=function(){console.error(a.error),T.show({message:"Error: Fails to open file",intent:y.a.DANGER,timeout:-1})}}}),Object(j.autorun)(function(){var e=_t.import.selectedNodeFileFromInput,t=_t.import.importConfig.nodeFile.hasColumns,n=_t.import.importConfig.nodeFile.delimiter;if(e){var a=new FileReader;a.readAsText(e),a.onload=function(){var e=a.result.split("\n"),r=(e.length,e.map(function(e){return e.trim()}).filter(function(e,t){return t<20}).join("\n"));console.log(r);try{var i=t?k()(r,{comment:"#",trim:!0,auto_parse:!0,skip_empty_lines:!0,columns:t,delimiter:n}):k()(r,{comment:"#",trim:!0,auto_parse:!0,skip_empty_lines:!0,columns:void 0,delimiter:n});Object(j.runInAction)("preview top N lines of node file",function(){_t.import.importConfig.nodeFile.topN=i,_t.import.importConfig.nodeFile.columns=Object.keys(i[0]).map(function(e){return"".concat(e)}),_t.import.importConfig.nodeFile.mapping.id=_t.import.importConfig.nodeFile.columns[0],_t.import.importConfig.nodeFile.ready=!0})}catch(o){T.show({message:"Error: Fails to open file",intent:y.a.DANGER,timeout:-1})}},a.onerror=function(){console.error(a.error),T.show({message:"Error: Fails to open file",intent:y.a.DANGER,timeout:-1})}}});var At,It,Rt,Pt,Mt,kt,Ft,Gt,Ht,zt,Bt,Ut,Vt,Wt,Yt,Xt,Kt,Zt,qt,Jt,Qt,$t,en,tn,nn,an,rn=_t,on=Object(h.a)(At=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{iconName:"cog",className:g()(Object(s.a)({},b.a.DARK,rn.preferences.darkMode)),isOpen:rn.preferences.dialogOpen,onClose:function(){rn.preferences.dialogOpen=!1},title:"Preferences"},r.a.createElement("div",{className:"pt-dialog-body"},r.a.createElement(O.a,{label:"Dark Mode",checked:rn.preferences.darkMode,onChange:function(){rn.preferences.darkMode=!rn.preferences.darkMode,rn.preferences.saveUserConfig(),rn.graph.frame&&rn.graph.frame.toggleDark()}}),r.a.createElement(O.a,{label:"Minimap",checked:rn.preferences.minimapShowing,onChange:function(){rn.preferences.minimapShowing=!rn.preferences.minimapShowing,rn.preferences.saveUserConfig(),rn.graph.frame?rn.preferences.minimapShowing?rn.graph.frame.showMiniMap():rn.graph.frame.hideMiniMap():console.log("Frame not ready when trying to toggle minimap.")}})),r.a.createElement("div",{className:"pt-dialog-footer"},r.a.createElement("div",{className:"pt-dialog-footer-actions"},r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:function(){rn.preferences.dialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||At,sn=n(179),ln=n(1083),cn=n(261),dn=n(192),un=n(356),pn=function(e){var t=e.name,n=e.isOpen,a=e.onToggle,i=e.children;return r.a.createElement("div",null,r.a.createElement(v.b,{className:g()(b.a.FILL,b.a.MINIMAL,"text-align-left"),rightIconName:n?"chevron-up":"chevron-down",onClick:a},t),r.a.createElement(un.a,{isOpen:n},i))},hn=n(59),mn=function(e){var t=e.handleClick,n=e.item,a=e.isActive;return r.a.createElement(We.a,{className:a?b.a.ACTIVE:"",key:n,onClick:t,text:n})},gn=function(e){var t=e.items,n=e.onSelect,a=e.value,i=e.fill,o=void 0!==i&&i;return r.a.createElement(hn.b,{items:t,itemRenderer:mn,filterable:!1,onItemSelect:n},r.a.createElement(v.b,{className:o?b.a.FILL:null,text:a}))},fn=Object(h.a)(It=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,"After import, show:",r.a.createElement(gn,{items:Object.keys(rn.import.postImportFilteringOptions),value:rn.import.selectedPostImportFilteringOption,onSelect:function(e){rn.import.selectedPostImportFilteringOption=e}}))}}]),t}(r.a.Component))||It,bn=Object(h.a)(Rt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props.file;return r.a.createElement(ln.a,{className:"import-preview-table",numRows:e.topN.length,selectedRegions:Object.values(e.mapping).map(function(t){return e.columns.indexOf(t)}).map(function(e){return{rows:null,cols:[e,e]}})},e.columns.map(function(t){return r.a.createElement(cn.a,{key:t,name:t,renderCell:function(n){return r.a.createElement(dn.a,null,e.topN[n][t])}})}))}}]),t}(r.a.Component))||Rt,En=Object(h.a)(Pt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).changeAvailable=function(e){e===x.ONLY_EDGE_FILE&&(rn.import.importConfig.edgeFile.createMissing=!0),n.setState({available:e})},n.canImport=function(){return n.state.available===x.NODE_AND_EDGE_FILE?rn.import.importConfig.edgeFile.ready&&rn.import.importConfig.nodeFile.ready:n.state.available===x.ONLY_EDGE_FILE&&rn.import.importConfig.edgeFile.ready},n.renderNodesSelection=function(){var e=rn.import.importConfig.nodeFile;return n.state.available===x.ONLY_EDGE_FILE?null:r.a.createElement(pn,{name:"Nodes",isOpen:n.state.nodesOpen,onToggle:function(){return n.setState({nodesOpen:!n.state.nodesOpen})}},r.a.createElement("div",{className:g()(b.a.CONTROL_GROUP)},r.a.createElement("div",{className:g()(b.a.INPUT_GROUP,b.a.FILL)},r.a.createElement("input",{type:"file",className:g()(b.a.DISABLED),onChange:function(e){e.target.files.length<1||(rn.import.selectedNodeFileFromInput=e.target.files[0])}}))),r.a.createElement(O.a,{label:"Has Headers",checked:e.hasColumns,onChange:function(){return e.hasColumns=!e.hasColumns}}),e.ready&&r.a.createElement("div",{className:"column-selection"},r.a.createElement(bn,{file:e}),"Column for Node ID:",r.a.createElement(gn,{items:e.columns,value:e.mapping.id,onSelect:function(t){return e.mapping.id=t}})))},n.renderEdgesSelection=function(){var e=rn.import.importConfig.edgeFile;return r.a.createElement(pn,{name:"Edges",isOpen:n.state.edgesOpen,onToggle:function(){return n.setState({edgesOpen:!n.state.edgesOpen})}},r.a.createElement("div",{className:g()(b.a.CONTROL_GROUP)},r.a.createElement("div",{className:g()(b.a.INPUT_GROUP,b.a.FILL)},r.a.createElement("input",{type:"file",className:g()(b.a.DISABLED),onChange:function(e){e.target.files.length<1||(rn.import.selectedEdgeFileFromInput=e.target.files[0])}}))),r.a.createElement(O.a,{label:"Has Headers",checked:e.hasColumns,onChange:function(){return e.hasColumns=!e.hasColumns}}),r.a.createElement(O.a,{label:"Create Missing Nodes",checked:e.createMissing,disabled:n.state.available===x.ONLY_EDGE_FILE,onChange:function(){return e.createMissing=!e.createMissing}}),e.ready&&r.a.createElement("div",{className:"column-selection"},r.a.createElement(bn,{file:e}),"Column for Source ID:",r.a.createElement(gn,{items:e.columns,value:e.mapping.fromId,onSelect:function(t){return e.mapping.fromId=t}})," ",r.a.createElement("br",null),"Column for Target ID:",r.a.createElement(gn,{items:e.columns,value:e.mapping.toId,onSelect:function(t){return e.mapping.toId=t}})))},n.state={available:x.ONLY_EDGE_FILE,nodesOpen:!0,edgesOpen:!0,delimiter:","},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"updateDelimiter",value:function(e){this.setState({delimiter:e}),"\\t"==e&&(e="\t"),rn.import.importConfig.edgeFile.delimiter=e,rn.import.importConfig.nodeFile.delimiter=e}},{key:"renderDelimiterSelection",value:function(){var e=this;return r.a.createElement("div",{className:"column-selection"},"Selected Delimiter",r.a.createElement(gn,{items:[",","\\t",";"],value:this.state.delimiter,onSelect:function(t){e.updateDelimiter(t)}})," ")}},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{iconName:"import",className:g()(Object(s.a)({},b.a.DARK,rn.preferences.darkMode)),isOpen:rn.import.dialogOpen,onClose:function(){rn.import.dialogOpen=!1},title:"Import CSV"},rn.import.loading?r.a.createElement(sn.a,null):r.a.createElement("div",null,r.a.createElement("div",{className:g()(b.a.DIALOG_BODY,"import-dialog")},"I have:",r.a.createElement(gn,{items:[x.ONLY_EDGE_FILE,x.NODE_AND_EDGE_FILE],value:this.state.available,onSelect:this.changeAvailable}),this.renderNodesSelection(),this.renderEdgesSelection(),this.renderDelimiterSelection(),r.a.createElement("hr",null),r.a.createElement(fn,null)),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,!this.canImport())),intent:y.a.PRIMARY,onClick:function(){var t;t={name:rn.project.newProjectName,createdDate:(new Date).toLocaleString()},ne.send(x.CREATE_NEW_PROJECT,t),oe(e.state.available===x.NODE_AND_EDGE_FILE,rn.import.importConfig.edgeFile.delimiter,rn.project.newProjectName),rn.graph.frame.turnOffLabelCSSRenderer()},text:"Import"})))))}}]),t}(r.a.Component))||Pt,On=Object(h.a)(Mt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"renderImportButton",value:function(){return r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,null==rn.import.selectedGexfFileFromInput)),intent:y.a.PRIMARY,onClick:function(){rn.import.loading=!0,se()},text:"Import"})))}},{key:"render",value:function(){return r.a.createElement(E.a,{iconName:"import",className:g()(Object(s.a)({},b.a.DARK,rn.preferences.darkMode)),isOpen:rn.import.gexfDialogOpen,onClose:function(){rn.import.gexfDialogOpen=!1,rn.import.loading=!1},title:"Import GEXF"},rn.import.loading?r.a.createElement(sn.a,null):r.a.createElement("div",{className:g()(b.a.DIALOG_BODY,"import-dialog")},r.a.createElement("div",null,r.a.createElement("div",{className:g()(b.a.CONTROL_GROUP)},r.a.createElement("div",{className:g()(b.a.INPUT_GROUP,b.a.FILL)},r.a.createElement("input",{type:"file",className:g()(b.a.DISABLED),onChange:function(e){e.target.files.length<1||(rn.import.selectedGexfFileFromInput=e.target.files[0])}}))),r.a.createElement("hr",null),r.a.createElement(fn,null)),this.renderImportButton()))}}]),t}(r.a.Component))||Mt,vn=Object(h.a)(kt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).canImport=function(){return n.state.available===x.GRAPH_AND_STATE_FILE?rn.import.stateFile&&rn.import.graphFile:rn.import.graphFile},n.changeAvailable=function(e){e===x.ONLY_EDGE_FILE&&(rn.import.importConfig.edgeFile.createMissing=!0),n.setState({available:e})},n.renderSelectGraph=function(){return r.a.createElement("div",{className:g()(b.a.CONTROL_GROUP)},r.a.createElement("div",{className:g()(b.a.INPUT_GROUP,b.a.FILL)},r.a.createElement("input",{type:"text",className:g()(b.a.DISABLED,b.a.INPUT),placeholder:"Select graph file",readOnly:!0,value:rn.import.graphFile})),r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:ae},"Choose File"))},n.renderSelectState=function(){return r.a.createElement("div",{className:g()(b.a.CONTROL_GROUP)},r.a.createElement("div",{className:g()(b.a.INPUT_GROUP,b.a.FILL)},r.a.createElement("input",{type:"text",className:g()(b.a.DISABLED,b.a.INPUT),placeholder:"Select snapshot file",readOnly:!0,value:rn.import.stateFile})),r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:re},"Choose File"))},n.state={available:x.ONLY_GRAPH_FILE,selectedGraph:null,selectedState:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{iconName:"import",className:g()(Object(s.a)({},b.a.DARK,rn.preferences.darkMode)),isOpen:rn.preferences.openDialogOpen,onClose:function(){rn.preferences.openDialogOpen=!1},title:"Open File"},rn.import.loading?r.a.createElement(sn.a,null):r.a.createElement("div",null,r.a.createElement("div",{className:g()(b.a.DIALOG_BODY,"import-dialog")},"I have:",r.a.createElement(gn,{items:[x.GRAPH_AND_STATE_FILE,x.ONLY_GRAPH_FILE],value:this.state.available,onSelect:this.changeAvailable}),this.renderSelectGraph(),this.state.available===x.GRAPH_AND_STATE_FILE&&this.renderSelectState()),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,!this.canImport())),intent:y.a.PRIMARY,onClick:function(){rn.preferences.openDialogOpen=!1,ie()},text:"Open"})))))}}]),t}(r.a.Component))||kt,yn=Object(h.a)(Ft=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=rn.project.projects.some(function(e){return e.name===rn.project.newProjectName}),t=""===rn.project.newProjectName.trim(),n=!(e||t);return r.a.createElement(E.a,{iconName:"projects",isOpen:rn.project.isNewProjectDialogOpen,onClose:function(){rn.project.isNewProjectDialogOpen=!1},title:"Create New Project"},r.a.createElement("div",{className:b.a.DIALOG_BODY},r.a.createElement("label",{className:"pt-label .modifier"},"Project Name",r.a.createElement("span",{className:"pt-text-muted"}," (required)",e&&" (This name has already been taken!)"),r.a.createElement("input",{className:"pt-input",type:"text",placeholder:"New Project",dir:"auto",value:rn.project.newProjectName,onChange:function(e){rn.project.newProjectName=e.target.value}}))),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,!n)),intent:y.a.PRIMARY,onClick:function(){n&&(rn.project.isNewProjectDialogOpen=!1,rn.import.dialogOpen=!0)},text:"Next"}))))}}]),t}(r.a.Component))||Ft,Nn=n(362),wn=n(73),Sn=Object(h.a)(Gt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return rn.project.currentProject&&r.a.createElement(E.a,{iconName:"projects",isOpen:rn.project.isProjectDetailDialogOpen,onClose:function(){rn.project.isProjectDetailDialogOpen=!1},title:"Load ".concat(rn.project.currentProject.name," Project")},rn.project.currentProject.hasGraphData?r.a.createElement("div",{className:b.a.DIALOG_BODY},r.a.createElement(Nn.a,{interactive:!0,elevation:Nn.a.ELEVATION_TWO,onClick:function(){rn.import.graphFile=rn.project.currentProject.graphDataPath,rn.project.isProjectDetailDialogOpen=!1,ie()}},r.a.createElement(wn.a,{iconName:"graph"})," Start fresh from original graph"),r.a.createElement("hr",null),r.a.createElement("div",{className:"argo-menu-list-header"},"Load recent snapshots"),r.a.createElement("div",null,rn.project.currentProject.snapshotPaths.map(function(e){return r.a.createElement("div",{key:e},r.a.createElement(Nn.a,{interactive:!1,elevation:Nn.a.ELEVATION_TWO},r.a.createElement("h5",null,e.replace(/^.*[\\\/]/,"").replace(/\.[^/.]+$/,"")),r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.INTENT_PRIMARY]),onClick:function(){rn.import.graphFile=rn.project.currentProject.graphDataPath,rn.import.stateFile=e,rn.project.currentSnapshotName=e.replace(/^.*[\\\/]/,"").replace(/\.[^/.]+$/,""),rn.project.isProjectDetailDialogOpen=!1,ie()}},"Load Snapshot"),r.a.createElement(v.b,{className:g()([b.a.BUTTON]),onClick:function(){var t;t=e,ne.send(x.DELETE_FILE,t),rn.project.currentProject.snapshotPaths=rn.project.currentProject.snapshotPaths.filter(function(t){return t!==e})}},"Delete")))}))):r.a.createElement("div",null,"Error: Cannot find .argograph file in this project directory."))}}]),t}(r.a.Component))||Gt,jn=Object(h.a)(Ht=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{iconName:"projects",isOpen:rn.project.isSaveSnapshotDialogOpen,onClose:function(){rn.project.isSaveSnapshotDialogOpen=!1},title:"Save Snapshot"},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},r.a.createElement("p",null,"If your browser doesn't start downloading the file, you can manually copy the content below and save to a plain text file."),r.a.createElement("input",{id:"snapshot-textarea",type:"textarea",value:rn.project.stringCopyOfSnapshot,readOnly:!0}),r.a.createElement("button",{onClick:function(){document.getElementById("snapshot-textarea").select(),document.execCommand("copy")}},"Copy to Clipboard")),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:function(){rn.project.isSaveSnapshotDialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||Ht,Dn=Object(h.a)(zt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={name:""},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{iconName:"projects",isOpen:rn.project.isRenameSnapshotDialogOpen,onClose:function(){rn.project.isRenameSnapshotDialogOpen=!1},title:"Rename Snapshot"},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},r.a.createElement("label",{className:"pt-label .modifier"},"Snapshot Name",r.a.createElement("span",{className:"pt-text-muted"}," (required)"),r.a.createElement("input",{className:"pt-input",type:"text",placeholder:"My Snapshot",dir:"auto",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}}))),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,!this.state.name)),intent:y.a.PRIMARY,onClick:function(){rn.graph.metadata.snapshotName=e.state.name,rn.project.isRenameSnapshotDialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||zt,Cn=Object(h.a)(Bt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={selectedFile:null},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{iconName:"import",className:g()(Object(s.a)({},b.a.DARK,rn.preferences.darkMode)),isOpen:rn.preferences.openSnapshotDialogOpen,onClose:function(){rn.preferences.openSnapshotDialogOpen=!1},title:"Open File"},r.a.createElement("div",null,r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},r.a.createElement("div",{className:g()(b.a.CONTROL_GROUP)},r.a.createElement("div",{className:g()(b.a.INPUT_GROUP,b.a.FILL)},r.a.createElement("input",{type:"file",className:g()(b.a.DISABLED),onChange:function(t){t.target.files.length<1||e.setState({selectedFile:t.target.files[0]})}})))),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,!this.state.selectedFile)),intent:y.a.PRIMARY,onClick:function(){rn.preferences.openSnapshotDialogOpen=!1,T.show({message:"Loading Graph Snapshot. Please wait...",intent:y.a.NONE,timeout:2e3});var t=new FileReader;t.readAsText(e.state.selectedFile),t.onload=function(){var e=t.result;rn.graph.loadImmediateStates(e)}},text:"Open"})))))}}]),t}(r.a.Component))||Bt,xn=n(185),_n=n(763),Ln=Object(h.a)(Ut=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={isShared:!1,isFetching:!1,sharedURL:"Error: Sharing failed"},n.handleRequest=n.handleRequest.bind(Object(xn.a)(n)),n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"handleRequest",value:function(){var e=Object(S.a)(w.a.mark(function e(t){var n;return w.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n="".concat(x.BACKEND_URL,"/snapshots"),e.next=3,fetch(n,{method:"POST",mode:"cors",cache:"no-cache",headers:{"Content-Type":"application/json"},referrer:"no-referrer",body:JSON.stringify({uuid:t,body:window.saveSnapshotToString()})}).then(function(e){return e.ok}).catch(function(e){T.show({message:"Failed to publish to sharing server. Unexpected error.",intent:y.a.DANGER,timeout:-1})});case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return r.a.createElement(E.a,{iconName:"projects",isOpen:rn.preferences.shareDialogOpen,onClose:function(){rn.preferences.shareDialogOpen=!1},title:"Share Graph"},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},!this.state.isShared&&r.a.createElement("div",null,r.a.createElement("p",null,"You can share the current state of your graph as ",r.a.createElement("b",null,"a public URL")," or ",r.a.createElement("b",null,"embedded iframe")),r.a.createElement("p",null,r.a.createElement("b",null,"IMPORTANT!")," This will make your graph snapshot public. If you are working with sensitive data (with custom access control), or large data (>400MB), please follow our guide on Github to easily deploy your own sharing server.")),this.state.isFetching&&r.a.createElement("p",null,r.a.createElement("b",null,"Sharing in progress. Please wait...")),this.state.isShared&&r.a.createElement("div",null,"Your graph has been shared to",r.a.createElement("br",null),r.a.createElement("input",{id:"snapshot-textarea",type:"textarea",value:this.state.sharedURL,readOnly:!0,style:{width:"400px"}}),r.a.createElement("br",null),r.a.createElement("button",{onClick:function(){document.getElementById("snapshot-textarea").select(),document.execCommand("copy")}},"Copy to Clipboard"),r.a.createElement("br",null),r.a.createElement("hr",null),"Embed as iframe:",r.a.createElement("br",null),r.a.createElement("input",{id:"iframe-textarea",type:"textarea",value:'<iframe src="'.concat(this.state.sharedURL,'" width="850" height="500"></iframe>'),readOnly:!0}),"   ",r.a.createElement("button",{onClick:function(){document.getElementById("iframe-textarea").select(),document.execCommand("copy")}},"Copy to Clipboard"))),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},!this.state.isShared&&r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,this.state.isFetching)),intent:y.a.PRIMARY,onClick:Object(S.a)(w.a.mark(function t(){var n,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isFetching:!0}),n=_n(),a="https://poloclub.github.io/argo-graph-lite/#".concat(n),t.next=5,e.handleRequest(n);case 5:t.sent?e.setState({isFetching:!1,isShared:!0,sharedURL:a}):(e.setState({isFetching:!1,isShared:!1}),T.show({message:"Failed to publish to sharing server. Please try again later.",intent:y.a.DANGER,timeout:-1}));case 7:case"end":return t.stop()}},t)})),text:"Share"}),this.state.isShared&&r.a.createElement(v.b,{className:g()(Object(s.a)({},b.a.DISABLED,this.state.isFetching)),intent:y.a.PRIMARY,onClick:Object(S.a)(w.a.mark(function t(){var n,a;return w.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return e.setState({isFetching:!0,isShared:!1}),n=_n(),a="https://poloclub.github.io/argo-graph-lite/#".concat(n),t.next=5,e.handleRequest(n);case 5:t.sent?e.setState({isFetching:!1,isShared:!0,sharedURL:a}):(e.setState({isFetching:!1,isShared:!1}),T.show({message:"Failed to publish to sharing server. Please try again later.",intent:y.a.DANGER,timeout:-1}));case 7:case"end":return t.stop()}},t)})),text:"Share Again to a new URL"}))))}}]),t}(r.a.Component))||Ut,Tn=Object(h.a)(Vt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{iconName:"projects",isOpen:rn.preferences.statisticsDialogOpen,onClose:function(){rn.preferences.statisticsDialogOpen=!1},title:"Statistics"},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},r.a.createElement("table",{className:b.a.TABLE,style:{width:"100%"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Statistics"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"# Nodes"),r.a.createElement("td",null,rn.graph.metadata.fullNodes)),r.a.createElement("tr",null,r.a.createElement("td",null,"# Edges"),r.a.createElement("td",null,rn.graph.metadata.fullEdges)),r.a.createElement("tr",null,r.a.createElement("td",null,"Average Degree"),r.a.createElement("td",null,rn.graph.hasGraph?rn.graph.degree:"loading graph")),r.a.createElement("tr",null,r.a.createElement("td",null,"Graph Density"),r.a.createElement("td",null,rn.graph.hasGraph?rn.graph.density:"loading graph")),r.a.createElement("tr",null,r.a.createElement("td",null,"Graph Diameter"),r.a.createElement("td",null,rn.graph.hasGraph?rn.graph.diameter:"loading graph")),r.a.createElement("tr",null,r.a.createElement("td",null,"Clustering Coefficient"),r.a.createElement("td",null,rn.graph.hasGraph&rn.preferences.statisticsDialogOpen?rn.graph.averageClustering:"loading graph")),r.a.createElement("tr",null,r.a.createElement("td",null,"Connected Component"),r.a.createElement("td",null,rn.graph.hasGraph&rn.preferences.statisticsDialogOpen?rn.graph.components:"loading graph"))))),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:function(){rn.preferences.statisticsDialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||Vt,An=Object(h.a)(Wt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(E.a,{iconName:"help",isOpen:rn.preferences.helpDialogOpen,onClose:function(){rn.preferences.helpDialogOpen=!1},title:"Help"},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},"Argo supports both mouse/trackpad and touchscreen.",r.a.createElement("div",{className:"argo-table-container"},r.a.createElement("table",{className:"argo-table-container__table pt-table pt-bordered pt-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Basic Operation"),r.a.createElement("th",null,"Mouse"),r.a.createElement("th",null,"Touchscreen"))),r.a.createElement("tbody",null,r.a.createElement("tr",null,r.a.createElement("td",null,"Zoom"),r.a.createElement("td",null,"Mouse wheel"),r.a.createElement("td",null,"2 finger zoom gesture")),r.a.createElement("tr",null,r.a.createElement("td",null,"Pan"),r.a.createElement("td",null,"Drag with right mouse button down OR Move mouse with space key pressed"),r.a.createElement("td",null,"Drag with 3 finger")),r.a.createElement("tr",null,r.a.createElement("td",null,"Select single node (view details)"),r.a.createElement("td",null,"Single Click"),r.a.createElement("td",null,"Tap with 1 finger")),r.a.createElement("tr",null,r.a.createElement("td",null,"Select multiple nodes"),r.a.createElement("td",null,"Drag left mouse button from empty area"),r.a.createElement("td",null,"Drag 1 finger from empty area")),r.a.createElement("tr",null,r.a.createElement("td",null,"Drag nodes"),r.a.createElement("td",null,"Drag with left mouse button down"),r.a.createElement("td",null,"Drag with 1 finger")))))),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:function(){rn.preferences.helpDialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||Wt,In=n(363),Rn=n(364),Pn=Object(h.a)(Yt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={sortBy:"pagerank",sortOrder:"descending"},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=this.props.nodes;t.sort(function(t,n){var a=t[e.state.sortBy],r=n[e.state.sortBy];if(a&&r){var i=Number(a),o=Number(r);if(Number.isNaN(i)||Number.isNaN(o)){var s=a.toString(),l=r.toString();return("descending"===e.state.sortOrder?-1:1)*s.localeCompare(l)}return"descending"===e.state.sortOrder?o-i:i-o}return 0});var n=rn.graph.allPropertiesKeyList.filter(function(e){return"pagerank"!==e&&"degree"!==e});return r.a.createElement("div",{className:"argo-table-container"},"Sort By "," ",r.a.createElement(gn,{items:["pagerank","degree"].concat(Object(be.a)(n)),value:this.state.sortBy,onSelect:function(t){e.setState({sortBy:t})}}),r.a.createElement(gn,{items:["descending","ascending"],value:this.state.sortOrder,onSelect:function(t){e.setState({sortOrder:t})}}),r.a.createElement("table",{className:"argo-table-container__table pt-table pt-bordered pt-striped"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,r.a.createElement("b",null,"Show")),r.a.createElement("th",null,r.a.createElement("b",null,"Node ID")),rn.graph.allPropertiesKeyList.map(function(e,t){return"id"!==e?r.a.createElement("th",{key:"".concat(e,"-").concat(t)},e):null}))),r.a.createElement("tbody",null,t.map(function(e){return r.a.createElement("tr",{key:e.id},r.a.createElement("td",null,r.a.createElement(O.a,{checked:!e.isHidden,onChange:function(){e.isHidden?rn.graph.showNodes([e.id]):rn.graph.hideNodes([e.id])}})),r.a.createElement("td",null,e.id),rn.graph.allPropertiesKeyList.map(function(t,n){if("id"!==t)return r.a.createElement("td",{key:"".concat(t,"-").concat(n)},e[t])}))}))))}}]),t}(r.a.Component))||Yt,Mn=Object(h.a)(Xt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showMoreBy:"pagerank",showMoreNum:5},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=[];if(rn.graph.lastSelectedSingleNode){var n=rn.graph.lastSelectedSingleNode.data.ref.id.toString();(t=rn.graph.getNeighborNodesFromRawGraph(n)).sort(function(e,t){return e.pagerank&&t.pagerank?t.pagerank-e.pagerank:0})}return r.a.createElement(E.a,{iconName:"graph",isOpen:rn.preferences.neighborDialogOpen,onClose:function(){rn.preferences.neighborDialogOpen=!1},title:"Neighbors",style:{minWidth:"80vw"}},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},r.a.createElement(In.a,null,r.a.createElement(v.b,{onClick:function(){rn.graph.showNodes(t.map(function(e){return e.id}))}},"Show All"),r.a.createElement(v.b,{onClick:function(){rn.graph.hideNodes(t.map(function(e){return e.id}))}},"Hide All")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(v.b,{style:{display:"inline"},intent:y.a.PRIMARY,text:"Show",onClick:function(){!function(e,n){var a=t.filter(function(e){return e.isHidden});a.sort(function(e,t){return e[n]&&t[n]?t[n]-e[n]:0});for(var r=[],i=0;i<e&&i<a.length;i++)r.push(a[i].id);rn.graph.showNodes(r)}(e.state.showMoreNum,e.state.showMoreBy)}})," ",r.a.createElement(Rn.a,{onValueChange:function(t,n){e.setState({showMoreNum:Number(n)})},value:this.state.showMoreNum,style:{display:"inline-flex",width:"30px"}})," "," ","more nodes with highest ",r.a.createElement(gn,{items:["pagerank","degree"],value:this.state.showMoreBy,onSelect:function(t){e.setState({showMoreBy:t})}})),r.a.createElement("hr",null),r.a.createElement(Pn,{nodes:t})),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:function(){rn.preferences.neighborDialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||Xt,kn=Object(h.a)(Kt=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={showMoreBy:"pagerank",showMoreNum:5},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=Object(be.a)(rn.graph.rawGraph.nodes);return r.a.createElement(E.a,{iconName:"database",isOpen:rn.preferences.dataSheetDialogOpen,onClose:function(){rn.preferences.dataSheetDialogOpen=!1},title:"Data Sheet",style:{minWidth:"80vw"}},r.a.createElement("div",{className:g()(b.a.DIALOG_BODY)},r.a.createElement(In.a,null,r.a.createElement(v.b,{onClick:function(){rn.graph.showNodes(t.map(function(e){return e.id}))}},"Show All"),r.a.createElement(v.b,{onClick:function(){rn.graph.hideNodes(t.map(function(e){return e.id}))}},"Hide All")),r.a.createElement("hr",null),r.a.createElement("div",null,r.a.createElement(v.b,{style:{display:"inline"},intent:y.a.PRIMARY,text:"Show",onClick:function(){!function(e,n){var a=t.filter(function(e){return e.isHidden});a.sort(function(e,t){return e[n]&&t[n]?t[n]-e[n]:0});for(var r=[],i=0;i<e&&i<a.length;i++)r.push(a[i].id);rn.graph.showNodes(r)}(e.state.showMoreNum,e.state.showMoreBy)}})," ",r.a.createElement(Rn.a,{onValueChange:function(t,n){e.setState({showMoreNum:Number(n)})},value:this.state.showMoreNum,style:{display:"inline-flex",width:"30px"}})," "," ","more nodes with highest ",r.a.createElement(gn,{items:["pagerank","degree"],value:this.state.showMoreBy,onSelect:function(t){e.setState({showMoreBy:t})}})),r.a.createElement("hr",null),r.a.createElement(Pn,{nodes:t})),r.a.createElement("div",{className:b.a.DIALOG_FOOTER},r.a.createElement("div",{className:b.a.DIALOG_FOOTER_ACTIONS},r.a.createElement(v.b,{intent:y.a.PRIMARY,onClick:function(){rn.preferences.dataSheetDialogOpen=!1},text:"Done"}))))}}]),t}(r.a.Component))||Kt,Fn=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{style:{display:"none"}},r.a.createElement(on,null),r.a.createElement(En,null),r.a.createElement(On,null),r.a.createElement(vn,null),r.a.createElement(Cn,null),r.a.createElement(yn,null),r.a.createElement(Sn,null),r.a.createElement(jn,null),r.a.createElement(Dn,null),r.a.createElement(Ln,null),r.a.createElement(Tn,null),r.a.createElement(An,null),r.a.createElement(Mn,null),r.a.createElement(kn,null))}}]),t}(r.a.Component),Gn=n(74),Hn=n(365),zn=n(181),Bn=n(427),Un=n(428),Vn=n(429),Wn=n.n(Vn),Yn=Object(h.a)(Zt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("nav",{className:g()([b.a.NAVBAR])},r.a.createElement("div",{className:g()([b.a.NAVBAR_GROUP,b.a.ALIGN_LEFT])},r.a.createElement("a",{href:x.LOGO_URL,target:"_blank"},r.a.createElement("img",{title:"Argo Lite",id:"Argo logo",src:Wn.a,width:"35",height:"35"})),r.a.createElement("div",{className:g()([b.a.NAVBAR_HEADING])}," \xa0 Argo ",r.a.createElement("small",null,"Lite")),r.a.createElement(Gn.a,{content:r.a.createElement(Ve.a,null,r.a.createElement(We.a,{text:"Load Sample",iconName:"graph"},x.SAMPLE_GRAPH_SNAPSHOTS.map(function(e){var t=e[0],n=e[1];return r.a.createElement(We.a,{iconName:"graph",text:t,onClick:function(){window.loadAndDisplaySnapshotFromStrapi(n)}})})),r.a.createElement(Hn.a,null),r.a.createElement(We.a,{iconName:"import",text:"Import from CSV...",onClick:function(){return rn.import.dialogOpen=!0}}),r.a.createElement(We.a,{iconName:"import",text:"Import from GEXF...",onClick:function(){return rn.import.gexfDialogOpen=!0}}),r.a.createElement(We.a,{iconName:"pt-icon-document-open",text:"Open Snapshot",onClick:function(){rn.preferences.openSnapshotDialogOpen=!0}}),r.a.createElement(Hn.a,null),r.a.createElement(We.a,{iconName:"download",text:"Save Snapshot",onClick:function(){rn.project.stringCopyOfSnapshot=rn.graph.saveImmediateStates(),rn.project.isSaveSnapshotDialogOpen=!0}}),r.a.createElement(We.a,{iconName:"pt-icon-document-share",text:"Publish and Share Snapshot",onClick:function(){rn.preferences.shareDialogOpen=!0}})),position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"document"},"Graph")),r.a.createElement(Gn.a,{content:r.a.createElement(Ve.a,null,r.a.createElement(We.a,{text:"Data Sheet",iconName:"pt-icon-database",onClick:function(){rn.graph.frame.pauseLayout(),rn.preferences.dataSheetDialogOpen=!0,e.forceUpdate()}}),r.a.createElement(We.a,{text:"Statistics",iconName:"pt-icon-timeline-bar-chart",onClick:function(){rn.preferences.statisticsDialogOpen=!0}}),r.a.createElement(We.a,{text:"Filters",iconName:"graph"},r.a.createElement(We.a,{text:"Show All Nodes",onClick:function(){rn.graph.showNodes(rn.graph.rawGraph.nodes.map(function(e){return e.id}))}}),r.a.createElement(We.a,{text:"Show only nodes with top 5 PageRank",onClick:function(){rn.graph.hideNodes(rn.graph.rawGraph.nodes.map(function(e){return e.id}));var e=Object(be.a)(rn.graph.rawGraph.nodes);e.sort(function(e,t){return e.pagerank&&t.pagerank?t.pagerank-e.pagerank:0});for(var t=[],n=0;n<5&&n<e.length;n++)t.push(e[n].id);rn.graph.showNodes(t)}}),r.a.createElement(We.a,{text:"Show only nodes with top 5 Degree",onClick:function(){rn.graph.hideNodes(rn.graph.rawGraph.nodes.map(function(e){return e.id}));var e=Object(be.a)(rn.graph.rawGraph.nodes);e.sort(function(e,t){return e.degree&&t.degree?t.degree-e.degree:0});for(var t=[],n=0;n<5&&n<e.length;n++)t.push(e[n].id);rn.graph.showNodes(t)}}),r.a.createElement(We.a,{text:"Hide All Nodes",onClick:function(){rn.graph.hideNodes(rn.graph.rawGraph.nodes.map(function(e){return e.id}))}}))),position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"pt-icon-wrench"},"Tools"))),r.a.createElement("div",{className:g()([b.a.NAVBAR_GROUP,b.a.ALIGN_LEFT])},r.a.createElement("span",{className:b.a.NAVBAR_DIVIDER}),rn.graph.hasGraph&&rn.graph.frame&&r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(zn.a,{content:rn.graph.frame.paused?"Resume Layout Algorithm":"Pause Layout Algorithm",position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:rn.graph.frame.paused?"play":"pause",text:rn.graph.frame.paused?"Resume Layout":"Pause Layout",onClick:function(){rn.graph.frame.paused?(rn.graph.frame.resumeLayout(),e.forceUpdate()):(rn.graph.frame.pauseLayout(),e.forceUpdate())}})))),r.a.createElement("div",{className:g()([b.a.NAVBAR_GROUP,b.a.ALIGN_RIGHT])},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"graph",onClick:function(){rn.project.isRenameSnapshotDialogOpen=!0}},rn.graph.metadata.snapshotName||"Untitled Graph"),r.a.createElement("span",{className:b.a.NAVBAR_DIVIDER}),r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"cog",onClick:function(){rn.preferences.dialogOpen=!0}}),r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"help",onClick:function(){rn.preferences.helpDialogOpen=!0}}),r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"minimize",onClick:function(){rn.preferences.turnOnMinimalMode()}}),r.a.createElement("span",{className:b.a.NAVBAR_DIVIDER}),r.a.createElement("a",{href:x.GITHUB_URL,target:"_blank",style:{color:rn.preferences.darkMode?"white":"black",fontSize:"120%",textDecoration:"none"}},r.a.createElement(Bn.a,{icon:Un.a}))))}}]),t}(r.a.Component))||Zt,Xn=Object(h.a)(qt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return rn.graph.frame&&r.a.createElement("div",null,r.a.createElement("div",{className:g()("minimal-navbar-left"),style:{backgroundColor:rn.preferences.darkMode?"#30404D":"#FFFFFF"}},r.a.createElement("div",{className:"pt-button-group"},r.a.createElement("a",{className:g()("pt-button pt-icon-maximize",rn.graph.frame.paused?"pt-icon-play":"pt-icon-pause"),role:"button",onClick:function(){rn.graph.frame.paused?(rn.graph.frame.resumeLayout(),e.forceUpdate()):(rn.graph.frame.pauseLayout(),e.forceUpdate())}}))),r.a.createElement("div",{className:g()("minimal-navbar-right"),style:{backgroundColor:rn.preferences.darkMode?"#30404D":"#FFFFFF"}},r.a.createElement("div",{className:"pt-button-group"},r.a.createElement("a",{className:"pt-button pt-icon-maximize",role:"button",onClick:function(){return rn.preferences.turnOffMinimalMode()}}),r.a.createElement("a",{className:"pt-button pt-icon-help",role:"button",onClick:function(){return rn.preferences.helpDialogOpen=!0}}),r.a.createElement("a",{className:"pt-button pt-icon-document-open",role:"button",href:window.location,target:"_blank"}))))}}]),t}(r.a.Component))||qt,Kn=Object(h.a)(Jt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return rn.preferences.isNavbarInMinimalMode?r.a.createElement(Xn,null):r.a.createElement(Yn,null)}}]),t}(r.a.Component))||Jt,Zn=Object(h.a)(Qt=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"workspace"},r.a.createElement("div",{style:{textAlign:"center",height:"100vh"}},r.a.createElement(sn.a,null)))}}]),t}(r.a.Component))||Qt,qn=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){rn.graph.setUpFrame()}},{key:"render",value:function(){return r.a.createElement("div",{id:"graph-container",style:{width:"100vw",height:"90vh",flex:"1",position:"absolute"}})}}]),t}(r.a.Component),Jn=n(420),Qn=n(146),$n=n(188),ea=n.n($n),ta=n(398),na=n(148),aa=Object(h.a)($t=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).state={timeOutRef:null,sizeOptionOpen:!1,colorOptionOpen:!1,shapeOptionOpen:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(pn,{name:"Color",isOpen:this.state.colorOptionOpen,onToggle:function(){return e.setState({colorOptionOpen:!e.state.colorOptionOpen})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},"Color by:",r.a.createElement(gn,{items:rn.graph.allPropertiesKeyList,onSelect:function(e){return rn.graph.nodes.colorBy=e},value:rn.graph.nodes.colorBy}),r.a.createElement("br",null),"With scale:",r.a.createElement(gn,{items:Object.keys(x.scales),onSelect:function(e){return rn.graph.nodes.color.scale=e},value:rn.graph.nodes.color.scale}),r.a.createElement("br",null),"Using Gradient from",r.a.createElement(hn.a,null,r.a.createElement(v.b,{text:"  ",style:{backgroundImage:"inherit",backgroundColor:rn.graph.nodes.color.from}}),r.a.createElement(na.SketchPicker,{color:rn.graph.nodes.color.from,onChange:function(e){return rn.graph.nodes.color.from=e.hex}})),"to",r.a.createElement(hn.a,null,r.a.createElement(v.b,{text:"  ",style:{backgroundImage:"inherit",backgroundColor:rn.graph.nodes.color.to}}),r.a.createElement(na.SketchPicker,{color:rn.graph.nodes.color.to,onChange:function(e){return rn.graph.nodes.color.to=e.hex}})),":",r.a.createElement("br",null),r.a.createElement("svg",{width:"220",height:"30",className:"gradient-preview"},r.a.createElement("defs",null,r.a.createElement("linearGradient",{x1:"0%",y1:"50%",x2:"100%",y2:"50%",id:"theGradient"},r.a.createElement("stop",{stopColor:rn.graph.nodes.color.from,stopOpacity:"1",offset:"0%"}),r.a.createElement("stop",{stopColor:rn.graph.nodes.color.to,stopOpacity:"1",offset:"100%"}))),r.a.createElement("rect",{x:"0",y:"0",width:"220",height:"50",fill:"url(#theGradient)"})))),r.a.createElement(pn,{name:"Size",isOpen:this.state.sizeOptionOpen,onToggle:function(){return e.setState({sizeOptionOpen:!e.state.sizeOptionOpen})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},"Scale by:",r.a.createElement(hn.b,{items:rn.graph.allPropertiesKeyList,itemRenderer:mn,filterable:!1,onItemSelect:function(e){return rn.graph.nodes.sizeBy=e}},r.a.createElement(v.b,{text:rn.graph.nodes.sizeBy})),r.a.createElement("br",null),"With scale:",r.a.createElement(hn.b,{items:Object.keys(x.scales),itemRenderer:mn,filterable:!1,onItemSelect:function(e){return rn.graph.nodes.size.scale=e}},r.a.createElement(v.b,{text:rn.graph.nodes.size.scale})),r.a.createElement("br",null),"Size Range:",r.a.createElement("br",null),r.a.createElement(ta.a,{min:1,max:20,stepSize:.1,labelStepSize:5,onChange:function(e){var t=Object(Ee.a)(e,2),n=t[0],a=t[1];Object(j.runInAction)("update scale",function(){rn.graph.nodes.size.min=n,rn.graph.nodes.size.max=a})},value:[rn.graph.nodes.size.min,rn.graph.nodes.size.max]}))),r.a.createElement(pn,{name:"Shape",isOpen:this.state.shapeOptionOpen,onToggle:function(){return e.setState({shapeOptionOpen:!e.state.shapeOptionOpen})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},"Node Shape:",r.a.createElement(hn.b,{items:["circle","square","triangle","pentagon","hexagon","octagon"],itemRenderer:mn,filterable:!1,onItemSelect:function(e){return rn.graph.nodes.shape=e}},r.a.createElement(v.b,{text:rn.graph.nodes.shape})))),r.a.createElement("small",null,ea()("node",rn.graph.overrides.size,!0),r.a.createElement("span",null," "),"have override styles.",r.a.createElement("a",{onClick:function(){return rn.graph.overrides=new Map}},"Clear.")))}}]),t}(r.a.Component))||$t,ra=n(399),ia=function(e){var t=e.name,n=e.isOpen,a=e.onToggle,i=e.children;return r.a.createElement("div",null,r.a.createElement(O.a,{label:t,checked:n,onChange:a,className:b.a.ALIGN_RIGHT}),r.a.createElement(un.a,{isOpen:n},i))},oa=Object(h.a)(en=function(e){function t(e){var n;return Object(l.a)(this,t),(n=Object(d.a)(this,Object(u.a)(t).call(this,e))).twoLayerUpdate=function(e,t,n){rn.graph.overrides.has(e)||rn.graph.overrides.set(e,new Map);var a=rn.graph.overrides.get(e);null!==n?a.set(t,n):(a.delete(t),0===a.size&&rn.graph.overrides.delete(e))},n.batchTwoLayerUpdate=function(e,t,a){Object(j.runInAction)("update entire selection",function(){e.forEach(function(e){return n.twoLayerUpdate(e.data.ref.id,t,a)})})},n.state={shapeOptionOpen:!1,sizeOptionOpen:!1,colorOptionOpen:!1,labelOptionOpen:!1},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,r.a.createElement(ia,{name:"Override Size",isOpen:this.state.sizeOptionOpen,onToggle:function(){e.state.sizeOptionOpen?e.setState({sizeOptionOpen:!1},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"size",null)}):e.setState({sizeOptionOpen:!0},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"size",rn.graph.overrideConfig.size)})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},r.a.createElement(ra.a,{min:1,max:20,stepSize:.1,labelStepSize:5,onChange:function(t){rn.graph.overrideConfig.size=t,e.batchTwoLayerUpdate(rn.graph.selectedNodes,"size",t)},value:rn.graph.overrideConfig.size}))),r.a.createElement(ia,{name:"Override Color",isOpen:this.state.colorOptionOpen,onToggle:function(){e.state.colorOptionOpen?e.setState({colorOptionOpen:!1},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"color",null)}):e.setState({colorOptionOpen:!0},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"color",rn.graph.overrideConfig.color)})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},"Choose Color:",r.a.createElement(hn.a,null,r.a.createElement(v.b,{text:"  ",style:{backgroundImage:"inherit",backgroundColor:rn.graph.overrideConfig.color}}),r.a.createElement(na.SketchPicker,{color:rn.graph.overrideConfig.color,onChange:function(t){rn.graph.overrideConfig.color=t.hex,e.batchTwoLayerUpdate(rn.graph.selectedNodes,"color",t.hex)}})))),r.a.createElement(ia,{name:"Override Label",isOpen:this.state.labelOptionOpen,onToggle:function(){e.state.labelOptionOpen?e.setState({labelOptionOpen:!1},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"label",null)}):e.setState({labelOptionOpen:!0},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"label",rn.graph.overrideConfig.label)})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},"Custom Label:",r.a.createElement("input",{value:rn.graph.overrideConfig.label,onChange:function(t){rn.graph.overrideConfig.label=t.target.value,e.batchTwoLayerUpdate(rn.graph.selectedNodes,"label",t.target.value)}}))),r.a.createElement(ia,{name:"Override Shape",isOpen:this.state.shapeOptionOpen,onToggle:function(){e.state.shapeOptionOpen?e.setState({shapeOptionOpen:!1},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"shape",null)}):e.setState({shapeOptionOpen:!0},function(){return e.batchTwoLayerUpdate(rn.graph.selectedNodes,"shape",rn.graph.overrideConfig.shape)})}},r.a.createElement("div",{className:g()(b.a.CARD,"sub-option")},"Node Shape:",r.a.createElement(hn.b,{items:["circle","square","triangle","pentagon","hexagon","octagon"],itemRenderer:mn,filterable:!1,onItemSelect:function(t){rn.graph.overrideConfig.shape=t,e.batchTwoLayerUpdate(rn.graph.selectedNodes,"shape",t)}},r.a.createElement(v.b,{text:rn.graph.overrideConfig.shape})))))}}]),t}(r.a.Component))||en,sa=Object(h.a)(tn=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,i=new Array(a),o=0;o<a;o++)i[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(i)))).getRenderedNodes=function(){return 0===rn.graph.selectedNodes.length?r.a.createElement("div",null,r.a.createElement("p",null,"Modifying All Nodes")):r.a.createElement("p",null,"Modifying ".concat(ea()("Node",rn.graph.selectedNodes.length,!0)))},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,this.getRenderedNodes(),0===rn.graph.selectedNodes.length?r.a.createElement(aa,null):r.a.createElement(oa,null))}}]),t}(r.a.Component))||tn,la=Object(h.a)(nn=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(v.b,{iconName:"eye-off",className:b.a.FILL,onClick:function(){return rn.graph.frame.hideAllLabels()}},"Hide All Labels"),r.a.createElement(v.b,{iconName:"eye-on",className:b.a.FILL,onClick:function(){return rn.graph.frame.showAllLabels()}},"Show All Labels"),r.a.createElement(v.b,{iconName:"eye-off",className:b.a.FILL,onClick:function(){return rn.graph.frame.hideSelectedLabels()}},"Hide Labels of Selected Nodes"),r.a.createElement(v.b,{iconName:"eye-on",className:b.a.FILL,onClick:function(){return rn.graph.frame.showSelectedLabels()}},"Show Labels of Selected Nodes"),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("h6",null,"Label Size"),r.a.createElement(ra.a,{min:.5,max:3,stepSize:.1,onChange:function(e){rn.graph.nodes.labelSize=e},value:rn.graph.nodes.labelSize}),r.a.createElement("div",{style:{height:"30px"}}),r.a.createElement("h6",null,"Label Length"),r.a.createElement(ra.a,{min:1,max:32,stepSize:.1,labelStepSize:5,onChange:function(e){rn.graph.nodes.labelLength=e},value:rn.graph.nodes.labelLength}),r.a.createElement("h6",null,"Label By"),r.a.createElement(hn.b,{items:rn.graph.allPropertiesKeyList,itemRenderer:mn,filterable:!1,onItemSelect:function(e){return rn.graph.nodes.labelBy=e}},r.a.createElement(v.b,{text:rn.graph.nodes.labelBy})))}}]),t}(r.a.Component))||nn,ca=n(430),da=Object(ca.observer)(an=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:g()("right-overlay-card","transparent-frame")},r.a.createElement("div",{className:g()(b.a.CARD,"node-details-table")},r.a.createElement("table",{className:g()(b.a.TABLE,b.a.TABLE_STRIPED),style:{width:"100%",padding:"0"}},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"Property"),r.a.createElement("th",null,"Value"))),r.a.createElement("tbody",null,rn.graph.allPropertiesKeyList.map(function(t,n){return r.a.createElement("tr",{key:"".concat(t,"-").concat(n)},r.a.createElement("td",{style:{padding:"5px 10px"}},t),r.a.createElement("td",{style:{padding:"5px 10px",whiteSpace:"normal"}},function(e){var t=Number(e);return Number.isNaN(t)||t>1||t<0?e:Number.parseFloat(t).toPrecision(3)}(e.props.node[t])))})))))}}]),t}(r.a.Component))||an,ua=n(40),pa=n(263);var ha,ma,ga,fa,ba,Ea=Object(h.a)(function(){return r.a.createElement("div",{className:"legends",style:{visibility:rn.preferences.isLegendShowing?"visible":"hidden"}},r.a.createElement(pa.LegendSize,{className:"scale-legend",direction:"row",itemDirection:"column",itemMargin:"0",shapeMargin:"5px 0",labelFormat:Object(ua.a)(".4f"),scale:rn.graph.nodeSizeScale,shape:function(e){var t=e.size;return r.a.createElement("svg",{width:t,height:t},r.a.createElement("circle",Object.assign({},e,{r:t/2,cx:t/2,cy:t/2})))}}),r.a.createElement(pa.LegendLinear,{direction:"row",itemDirection:"column",shape:"circle",scale:rn.graph.nodeColorScale,labelFormat:Object(ua.a)(".4f")}))}),Oa=Object(h.a)(ha=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:g()("bottom-status-bar"),style:{backgroundColor:rn.preferences.darkMode?"#30404D":"#FFFFFF",visibility:rn.preferences.isStatusBarShowing?"visible":"hidden"}},r.a.createElement("div",{className:g()("bottom-status-bar__left")},rn.graph.metadata.fullNodes&&rn.graph.metadata.fullEdges&&"Total Nodes: ".concat(rn.graph.metadata.fullNodes,", Total Edges: ").concat(rn.graph.metadata.fullEdges,",")," Hidden Nodes: ",rn.graph.numHiddenNodes),r.a.createElement("div",{className:g()("bottom-status-bar__right")},"Color by: ",rn.graph.nodes.colorBy," (",rn.graph.nodes.color.scale,"), Size by: ",rn.graph.nodes.sizeBy," (",rn.graph.nodes.size.scale,")"))}}]),t}(r.a.Component))||ha,va=Object(h.a)(ma=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this,t=0;if(1===rn.graph.selectedNodes.length&&rn.graph.lastSelectedSingleNode){var n=rn.graph.lastSelectedSingleNode.data.ref.id.toString();t=rn.graph.getNeighborNodesFromRawGraph(n).filter(function(e){return e.isHidden}).length}return r.a.createElement("div",{className:"argo-selection-action-panel",style:{backgroundColor:rn.preferences.darkMode?"#30404D":"#FFFFFF"}},r.a.createElement(zn.a,{content:"Pin Selected Nodes",position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"pin",text:"Pin",intent:y.a.PRIMARY,onClick:function(){rn.graph.frame.pinSelectedNodes(),e.forceUpdate()}})),r.a.createElement(zn.a,{content:"Unpin Selected Nodes",position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"unpin",text:"Unpin",intent:y.a.WARNING,onClick:function(){rn.graph.frame.unpinSelectedNodes(),e.forceUpdate()}})),r.a.createElement(zn.a,{content:"Hide Selected Nodes",position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"delete",text:"Hide",intent:y.a.DANGER,onClick:function(){rn.graph.hideNodes(rn.graph.frame.getSelectedIds()),e.forceUpdate()}})),1===rn.graph.selectedNodes.length&&r.a.createElement("div",{style:{display:"inline"}},r.a.createElement(zn.a,{content:"Open Neighbor Dialog",position:L.a.BOTTOM},r.a.createElement(v.b,{className:g()([b.a.BUTTON,b.a.MINIMAL]),iconName:"graph",text:"Neighbors (".concat(t," hidden)"),intent:y.a.PRIMARY,onClick:function(){rn.graph.frame.pauseLayout(),rn.preferences.neighborDialogOpen=!0,e.forceUpdate()}}))))}}]),t}(r.a.Component))||ma,ya=Object(h.a)(ga=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h4",null,"Graph Options"),r.a.createElement(Jn.a,{animate:!0,id:"graph-options"},r.a.createElement(Qn.a,{id:"nodes",title:"Nodes",panel:r.a.createElement(sa,null)}),r.a.createElement(Qn.a,{id:"labels",title:"Labels",panel:r.a.createElement(la,null)}),r.a.createElement(Jn.a.Expander,null)))}}]),t}(r.a.Component))||ga,Na=Object(h.a)(fa=function(e){function t(){var e,n;Object(l.a)(this,t);for(var a=arguments.length,r=new Array(a),i=0;i<a;i++)r[i]=arguments[i];return(n=Object(d.a)(this,(e=Object(u.a)(t)).call.apply(e,[this].concat(r)))).optionsVisible={left:"0em"},n.optionsInvisible={left:"-22em"},n.sideButtonVis={marginLeft:"50px"},n.sideButtonInv={marginLeft:"-15px"},n.toggleOptions=function(){rn.preferences.isRenderOptionsCardHidden=!rn.preferences.isRenderOptionsCardHidden},n}return Object(p.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:"floating-overlay"},r.a.createElement("div",{className:"left-cards"},rn.search.panelOpen&&r.a.createElement("div",{className:g()(b.a.CARD,b.a.ELEVATION_2,"overlay-card","left-overlay-card")},r.a.createElement("div",{style:{display:"flex",justifyContent:"left",alignItems:"left"}},r.a.createElement("h4",{style:{width:140}},rn.search.numCandidates," results"),r.a.createElement("div",{style:{width:20}}),r.a.createElement("h4",null,"Order"),r.a.createElement("div",{style:{width:5}}),r.a.createElement(gn,{style:{"margin-bottom":10},items:[].concat(Object(be.a)(rn.graph.metadata.nodeComputed),["node_id"]),onSelect:function(e){return rn.graph.searchOrder=e},value:rn.graph.searchOrder})),r.a.createElement("table",{className:g()(b.a.TABLE,b.a.TABLE_STRIPED,b.a.INTERACTIVE),style:{width:"100%",userSelect:"none"}},r.a.createElement("tbody",null,rn.search.candidates.map(function(e,t){return r.a.createElement("tr",{key:t,onMouseOver:function(){return rn.graph.frame.highlightNodeIds([e.node_id],!0)},onMouseDown:function(){return t=e.node_id,void ne.send(x.ADD_NODE,t);var t},onMouseLeave:function(){return rn.graph.frame.highlightNodeIds([e.node_id],!1)}},r.a.createElement("td",null,e[rn.graph.nodes.labelBy]))}))),r.a.createElement("center",null,r.a.createElement("a",{onMouseDown:function(){rn.search.pageNum>0&&(rn.search.pageNum-=1,rn.search.candidates=rn.search.allCands.slice(rn.search.pageNum*rn.search.nPerPage,(rn.search.pageNum+1)*rn.search.nPerPage))}},"Prev\xa0"),"\xa0",0!==rn.search.pageNum?r.a.createElement("a",{onMouseDown:function(){rn.search.pageNum=0,rn.search.candidates=rn.search.allCands.slice(rn.search.pageNum*rn.search.nPerPage,(rn.search.pageNum+1)*rn.search.nPerPage)}},"1\xa0"):r.a.createElement("a",{style:{color:"#111111",pointerEvents:"none",cursor:"default"}},rn.search.pageNum+1,"\xa0"),"...",r.a.createElement("b",null,"\xa0"),rn.search.pages.map(function(e){return 0!=e&&e!=rn.search.maxPage&&e==rn.search.pageNum?r.a.createElement("a",{key:e,style:{color:"#111111",pointerEvents:"none",cursor:"default"}},rn.search.pageNum+1,"\xa0"):0!=e&&e!=rn.search.maxPage&&(e>rn.search.pageNum-4&&e<rn.search.pageNum+4||rn.search.pageNum<4&&e<8||rn.search.pageNum>rn.search.maxPage-4&&e>rn.search.maxPage-8)?r.a.createElement("a",{key:e,onMouseDown:function(){rn.search.pageNum=e,rn.search.candidates=rn.search.allCands.slice(rn.search.pageNum*rn.search.nPerPage,(rn.search.pageNum+1)*rn.search.nPerPage)}},e+1,"\xa0"):void 0}),"...\xa0",rn.search.pageNum!==rn.search.maxPage?r.a.createElement("a",{onMouseDown:function(){rn.search.pageNum=rn.search.maxPage,rn.search.candidates=rn.search.allCands.slice(rn.search.pageNum*rn.search.nPerPage,(rn.search.pageNum+1)*rn.search.nPerPage)}},rn.search.maxPage+1,"\xa0"):r.a.createElement("a",{style:{color:"#111111",pointerEvents:"none",cursor:"default"}},rn.search.pageNum+1),"\xa0",r.a.createElement("a",{onMouseDown:function(){rn.search.pageNum<rn.search.maxPage&&(rn.search.pageNum+=1,rn.search.candidates=rn.search.allCands.slice(rn.search.pageNum*rn.search.nPerPage,(rn.search.pageNum+1)*rn.search.nPerPage))}},"Next"),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("h5",null,"Page ",rn.search.pageNum+1))),r.a.createElement("div",{className:g()(b.a.CARD,b.a.ELEVATION_2,"overlay-card","left-overlay-card","transparent-frame","left-cards"),style:rn.preferences.isRenderOptionsCardHidden?this.optionsInvisible:this.optionsVisible},r.a.createElement("button",{className:"openbtn2",onClick:this.toggleOptions}," \u2039"),r.a.createElement("br",null),r.a.createElement(ya,null)),r.a.createElement("div",{className:g()(b.a.CARD,b.a.ELEVATION_2,"overlay-card","transparent-frame"),style:{width:"1em",paddingTop:"1em",paddingRight:"0.7em",paddingBottom:"0.5em",marginLeft:"-5.4em"}},r.a.createElement("button",{className:"openbtn",onClick:this.toggleOptions,style:rn.preferences.isRenderOptionsCardHidden?this.sideButtonVis:this.sideButtonInv},"\u2630"))),1===rn.graph.selectedNodes.length&&r.a.createElement(da,{node:rn.graph.selectedNodes[0].data.ref}),r.a.createElement(Ea,null),r.a.createElement(Oa,null),rn.graph.selectedNodes.length>0&&!rn.preferences.isNavbarInMinimalMode&&r.a.createElement(va,null))}}]),t}(r.a.Component))||fa,wa=n(125);f.a.onlyShowFocusOnTabs(),ne.send(x.FETCH_WORKSPACE_PROJECTS),rn.preferences.loadUserConfig();var Sa=wa.a.DELETE,ja=wa.a.BACKSPACE,Da=wa.a.P,Ca=wa.a.U;function xa(){rn.graph.frame?(window.innerWidth<x.MOBILE_WIDTH_CUTOFF||window.innerHeight<x.MOBILE_HEIGHT_CUTOFF)&&rn.preferences.turnOnMinimalMode():window.setTimeout(xa,1e3)}xa(),window.addEventListener("resize",xa);var _a=Object(wa.b)(ba=Object(h.a)(ba=function(e){function t(){return Object(l.a)(this,t),Object(d.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(p.a)(t,e),Object(c.a)(t,[{key:"componentWillReceiveProps",value:function(e){var t=e.keydown;t.event&&(t.event.which===Sa||t.event.which===ja?rn&&rn.graph&&rn.graph.frame&&(rn.graph.hideNodes(rn.graph.frame.getSelectedIds()),this.forceUpdate()):t.event.which===Da?rn&&rn.graph&&rn.graph.frame&&rn.graph.frame.pinSelectedNodes():t.event.which===Ca&&rn&&rn.graph&&rn.graph.frame&&rn.graph.frame.unpinSelectedNodes())}},{key:"render",value:function(){return r.a.createElement("div",{className:g()(Object(s.a)({"app-wrapper":!0},b.a.DARK,rn.preferences.darkMode))},r.a.createElement(Kn,null),r.a.createElement("main",{className:"main"},rn.graph.hasGraph?r.a.createElement(qn,null):r.a.createElement(Zn,null)),rn.graph.hasGraph&&r.a.createElement(Na,null),r.a.createElement(Fn,null))}}]),t}(r.a.Component))||ba)||ba;n(1074),n(1075),n(1076),n(1077);o.a.render(r.a.createElement(_a,null),document.getElementById("root"))},15:function(e,t,n){"use strict";n.r(t),n.d(t,"IS_IFRAME_WIDGET",function(){return o}),n.d(t,"FRONTEND_URL",function(){return s}),n.d(t,"LOGO_URL",function(){return l}),n.d(t,"GITHUB_URL",function(){return c}),n.d(t,"BACKEND_URL",function(){return d}),n.d(t,"SAMPLE_GRAPH_SNAPSHOTS",function(){return u}),n.d(t,"MOBILE_WIDTH_CUTOFF",function(){return p}),n.d(t,"MOBILE_HEIGHT_CUTOFF",function(){return h}),n.d(t,"SCALE_LINEAR",function(){return m}),n.d(t,"SCALE_LOG",function(){return g}),n.d(t,"scales",function(){return f}),n.d(t,"LOAD_USER_CONFIG",function(){return b}),n.d(t,"LOADED_USER_CONFIG",function(){return E}),n.d(t,"SAVE_USER_CONFIG",function(){return O}),n.d(t,"SAVED_USER_CONFIG",function(){return v}),n.d(t,"FETCH_WORKSPACE_PROJECTS",function(){return y}),n.d(t,"FETCHED_WORKSPACE_PROJECTS",function(){return N}),n.d(t,"MENU_NEW_PROJECT",function(){return w}),n.d(t,"CREATE_NEW_PROJECT",function(){return S}),n.d(t,"CREATED_NEW_PROJECT",function(){return j}),n.d(t,"DELETE_FILE",function(){return D}),n.d(t,"RENAME_FILE",function(){return C}),n.d(t,"LOAD_GRAPH_JSON",function(){return x}),n.d(t,"LOAD_GRAPH_SQLITE",function(){return _}),n.d(t,"LOADED_GRAPH_JSON",function(){return L}),n.d(t,"LOAD_TOAST_KEY",function(){return T}),n.d(t,"SAVE_GRAPH_JSON",function(){return A}),n.d(t,"SAVE_GRAPH_SQLITE",function(){return I}),n.d(t,"SAVED_GRAPH_JSON",function(){return R}),n.d(t,"SAVE_TOAST_KEY",function(){return P}),n.d(t,"MENU_LOAD",function(){return M}),n.d(t,"MENU_IMPORT_CSV",function(){return k}),n.d(t,"MENU_SAVE_GRAPH_STATE",function(){return F}),n.d(t,"MENU_SAVE_GRAPH_STATE_TO_PROJECT",function(){return G}),n.d(t,"MENU_SAVE_GRAPH_SQLITE",function(){return H}),n.d(t,"SAVE_GRAPH_STATE",function(){return z}),n.d(t,"SAVED_GRAPH_STATE",function(){return B}),n.d(t,"SAVE_GRAPH_STATE_TO_PROJECT",function(){return U}),n.d(t,"SAVED_GRAPH_STATE_TO_PROJECT",function(){return V}),n.d(t,"LOAD_GRAPH_STATE",function(){return W}),n.d(t,"LOADED_GRAPH_STATE",function(){return Y}),n.d(t,"SHOW_ITEM_IN_FOLDER",function(){return X}),n.d(t,"SHOW_WORKSPACE_FOLDER",function(){return K}),n.d(t,"CHANGE_WORKSPACE_FOLDER",function(){return Z}),n.d(t,"CHANGED_WORKSPACE_FOLDER",function(){return q}),n.d(t,"CHOOSE_EDGE_FILE",function(){return J}),n.d(t,"CHOSEN_EDGE_FILE",function(){return Q}),n.d(t,"CHOOSE_NODE_FILE",function(){return $}),n.d(t,"PEAKED_NODE_FILE",function(){return ee}),n.d(t,"CHOSEN_NODE_FILE",function(){return te}),n.d(t,"CHOOSE_GRAPH_FILE",function(){return ne}),n.d(t,"CHOSEN_GRAPH_FILE",function(){return ae}),n.d(t,"CHOOSE_STATE_FILE",function(){return re}),n.d(t,"CHOSEN_STATE_FILE",function(){return ie}),n.d(t,"NODE_AND_EDGE_FILE",function(){return oe}),n.d(t,"ONLY_EDGE_FILE",function(){return se}),n.d(t,"GRAPH_AND_STATE_FILE",function(){return le}),n.d(t,"ONLY_GRAPH_FILE",function(){return ce}),n.d(t,"IMPORT_GRAPH",function(){return de}),n.d(t,"IMPORTED_GRAPH",function(){return ue}),n.d(t,"OPEN_GRAPH",function(){return pe}),n.d(t,"OPENED_GRAPH",function(){return he}),n.d(t,"SEARCH_REQUEST",function(){return me}),n.d(t,"SEARCH_RESPONSE",function(){return ge}),n.d(t,"ADD_NODES",function(){return fe}),n.d(t,"ADD_SELECT_NODE",function(){return be}),n.d(t,"ADD_NODE",function(){return Ee}),n.d(t,"GET_NEIGHBORS",function(){return Oe});var a,r=n(28),i=n(265),o=window.location!==window.parent.location,s="https://poloclub.github.io/argo-graph-lite",l="https://github.com/poloclub/argo-graph-lite",c="https://github.com/poloclub/argo-graph-lite",d="https://argo-share.herokuapp.com",u=[["Les Miserables","3b5f746f-19a5-44d1-99ea-407ff9e47a0e"],["CORD-19 Citation Graph 06-02","4bf882d3-8966-4f41-a590-acafeb998d2a"]],p=800,h=480,m="Linear Scale",g="Log Scale",f=(a={},Object(r.a)(a,m,i.a),Object(r.a)(a,g,i.b),a),b="load-user-config",E="loaded-user-config",O="save-user-config",v="saved-user-config",y="fetch-workspace-projects",N="fetched-workspace-projects",w="menu-new-project",S="create-new-project",j="created-new-project",D="delete-file",C="rename-file",x="load-graph-json",_="load-graph-sqlite",L="loaded-graph-json",T="load-toast-key",A="save-graph-json",I="save-graph-sqlite",R="saved-graph-json",P="save-const-key",M="menu-load",k="menu-import-csv",F="menu-save-graph-state",G="menu-save-graph-state-to-project",H="menu-save-graph-sqlite",z="save-graph-state",B="saved-graph-state",U="save-graph-state-to-project",V="saved-graph-state-to-project",W="load-graph-state",Y="loaded-graph-state",X="show-item-in-folder",K="show-workspace-folder",Z="change-workspace-folder",q="changed-workspace-folder",J="choose-edge-file",Q="chosen-edge-file",$="choose-node-file",ee="peaked-node-file",te="chosen-node-file",ne="choose-graph-file",ae="chosen-graph-file",re="choose-state-file",ie="chosen-state-file",oe="both nodes and edges file",se="only edges file",le="both graph and snapshot file",ce="only graph file",de="import-graph",ue="imported-graph",pe="open-graph",he="opened-graph",me="search-request",ge="search-response",fe="add-nodes",be="add-select-node",Ee="add-node",Oe="get-neighbors"},348:function(e,t,n){var a=n(163);function r(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.5;this.id=e,this.index=e,this.in=[],this.out=[],this.size=t,this.renderData={},this.domainData={},this.x=1,this.y=1,this.vx=1,this.vy=1,this.connectedTo=function(e){return outNodeIds=this.out.map(function(e){return e.id}),a.inArray(e,outNodeIds)>=0}}r.prototype.connectNode=function(e){return!this.connectedTo(e.id)&&(this.out.push(e),!0)},t.Edge=function(e,t){this.source=e,this.target=t,this.renderData={}},t.Node=r},349:function(e,t,n){var a=n(232);function r(e,t,n,a,r){var i;if(e=e.subarray||e.slice?e:e.buffer,n=n.subarray||n.slice?n:n.buffer,e=t?e.subarray?e.subarray(t,r&&t+r):e.slice(t,r&&t+r):e,n.set)n.set(e,a);else for(i=0;i<e.length;i++)n[i+a]=e[i];return n}a.MeshLine=function(){this.positions=[],this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[],this.counters=[],this.geometry=new a.BufferGeometry,this.widthCallback=null},a.MeshLine.prototype.setGeometry=function(e,t){if(this.widthCallback=t,this.positions=[],this.counters=[],e instanceof a.Geometry)for(var n=0;n<e.vertices.length;n++){var r=e.vertices[n];t=n/e.vertices.length;this.positions.push(r.x,r.y,r.z),this.positions.push(r.x,r.y,r.z),this.counters.push(t),this.counters.push(t)}if(a.BufferGeometry,e instanceof Float32Array||e instanceof Array)for(n=0;n<e.length;n+=3){t=n/e.length;this.positions.push(e[n],e[n+1],e[n+2]),this.positions.push(e[n],e[n+1],e[n+2]),this.counters.push(t),this.counters.push(t)}this.process()},a.MeshLine.prototype.compareV3=function(e,t){var n=6*e,a=6*t;return this.positions[n]===this.positions[a]&&this.positions[n+1]===this.positions[a+1]&&this.positions[n+2]===this.positions[a+2]},a.MeshLine.prototype.copyV3=function(e){var t=6*e;return[this.positions[t],this.positions[t+1],this.positions[t+2]]},a.MeshLine.prototype.process=function(){var e,t,n=this.positions.length/6;this.previous=[],this.next=[],this.side=[],this.width=[],this.indices_array=[],this.uvs=[];for(var r=0;r<n;r++)this.side.push(1),this.side.push(-1);for(r=0;r<n;r++)e=this.widthCallback?this.widthCallback(r/(n-1)):1,this.width.push(e),this.width.push(e);for(r=0;r<n;r++)this.uvs.push(r/(n-1),0),this.uvs.push(r/(n-1),1);t=this.compareV3(0,n-1)?this.copyV3(n-2):this.copyV3(0),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(r=0;r<n-1;r++)t=this.copyV3(r),this.previous.push(t[0],t[1],t[2]),this.previous.push(t[0],t[1],t[2]);for(r=1;r<n;r++)t=this.copyV3(r),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]);t=this.compareV3(n-1,0)?this.copyV3(1):this.copyV3(n-1),this.next.push(t[0],t[1],t[2]),this.next.push(t[0],t[1],t[2]);for(r=0;r<n-1;r++){var i=2*r;this.indices_array.push(i,i+1,i+2),this.indices_array.push(i+2,i+1,i+3)}this.attributes?(this.attributes.position.copyArray(new Float32Array(this.positions)),this.attributes.position.needsUpdate=!0,this.attributes.previous.copyArray(new Float32Array(this.previous)),this.attributes.previous.needsUpdate=!0,this.attributes.next.copyArray(new Float32Array(this.next)),this.attributes.next.needsUpdate=!0,this.attributes.side.copyArray(new Float32Array(this.side)),this.attributes.side.needsUpdate=!0,this.attributes.width.copyArray(new Float32Array(this.width)),this.attributes.width.needsUpdate=!0,this.attributes.uv.copyArray(new Float32Array(this.uvs)),this.attributes.uv.needsUpdate=!0,this.attributes.index.copyArray(new Uint16Array(this.indices_array)),this.attributes.index.needsUpdate=!0):this.attributes={position:new a.BufferAttribute(new Float32Array(this.positions),3),previous:new a.BufferAttribute(new Float32Array(this.previous),3),next:new a.BufferAttribute(new Float32Array(this.next),3),side:new a.BufferAttribute(new Float32Array(this.side),1),width:new a.BufferAttribute(new Float32Array(this.width),1),uv:new a.BufferAttribute(new Float32Array(this.uvs),2),index:new a.BufferAttribute(new Uint16Array(this.indices_array),1),counters:new a.BufferAttribute(new Float32Array(this.counters),1)},this.geometry.addAttribute("position",this.attributes.position),this.geometry.addAttribute("previous",this.attributes.previous),this.geometry.addAttribute("next",this.attributes.next),this.geometry.addAttribute("side",this.attributes.side),this.geometry.addAttribute("width",this.attributes.width),this.geometry.addAttribute("uv",this.attributes.uv),this.geometry.addAttribute("counters",this.attributes.counters),this.geometry.setIndex(this.attributes.index)},a.MeshLine.prototype.advance=function(e){var t=this.attributes.position.array,n=this.attributes.previous.array,a=this.attributes.next.array,i=t.length;r(t,0,n,0,i),r(t,6,t,0,i-6),t[i-6]=e.x,t[i-5]=e.y,t[i-4]=e.z,t[i-3]=e.x,t[i-2]=e.y,t[i-1]=e.z,r(t,6,a,0,i-6),a[i-6]=e.x,a[i-5]=e.y,a[i-4]=e.z,a[i-3]=e.x,a[i-2]=e.y,a[i-1]=e.z,this.attributes.position.needsUpdate=!0,this.attributes.previous.needsUpdate=!0,this.attributes.next.needsUpdate=!0},a.MeshLineMaterial=function(e){function t(e,t){return void 0===e?t:e}a.Material.call(this),e=e||{},this.lineWidth=t(e.lineWidth,1),this.map=t(e.map,null),this.useMap=t(e.useMap,0),this.color=t(e.color,new a.Color(16777215)),this.opacity=t(e.opacity,1),this.resolution=t(e.resolution,new a.Vector2(1,1)),this.sizeAttenuation=t(e.sizeAttenuation,1),this.near=t(e.near,1),this.far=t(e.far,1),this.dashArray=t(e.dashArray,[]),this.useDash=this.dashArray!==[]?1:0,this.visibility=t(e.visibility,1),this.alphaTest=t(e.alphaTest,0);var n=new a.RawShaderMaterial({uniforms:{lineWidth:{type:"f",value:this.lineWidth},map:{type:"t",value:this.map},useMap:{type:"f",value:this.useMap},color:{type:"c",value:this.color},opacity:{type:"f",value:this.opacity},resolution:{type:"v2",value:this.resolution},sizeAttenuation:{type:"f",value:this.sizeAttenuation},near:{type:"f",value:this.near},far:{type:"f",value:this.far},dashArray:{type:"v2",value:new a.Vector2(this.dashArray[0],this.dashArray[1])},useDash:{type:"f",value:this.useDash},visibility:{type:"f",value:this.visibility},alphaTest:{type:"f",value:this.alphaTest}},vertexShader:["precision highp float;","","attribute vec3 position;","attribute vec3 previous;","attribute vec3 next;","attribute float side;","attribute float width;","attribute vec2 uv;","attribute float counters;","","uniform mat4 projectionMatrix;","uniform mat4 modelViewMatrix;","uniform vec2 resolution;","uniform float lineWidth;","uniform vec3 color;","uniform float opacity;","uniform float near;","uniform float far;","uniform float sizeAttenuation;","","varying vec2 vUV;","varying vec4 vColor;","varying vec3 vPosition;","varying float vCounters;","","vec2 fix( vec4 i, float aspect ) {","","    vec2 res = i.xy / i.w;","    res.x *= aspect;","\t vCounters = counters;","    return res;","","}","","void main() {","","    float aspect = resolution.x / resolution.y;","\t float pixelWidthRatio = 1. / (resolution.x * projectionMatrix[0][0]);","","    vColor = vec4( color, opacity );","    vUV = uv;","","    mat4 m = projectionMatrix * modelViewMatrix;","    vec4 finalPosition = m * vec4( position, 1.0 );","    vec4 prevPos = m * vec4( previous, 1.0 );","    vec4 nextPos = m * vec4( next, 1.0 );","","    vec2 currentP = fix( finalPosition, aspect );","    vec2 prevP = fix( prevPos, aspect );","    vec2 nextP = fix( nextPos, aspect );","","\t float pixelWidth = finalPosition.w * pixelWidthRatio;","    float w = 1.8 * pixelWidth * lineWidth * width;","","    if( sizeAttenuation == 1. ) {","        w = 1.8 * lineWidth * width;","    }","","    vec2 dir;","    if( nextP == currentP ) dir = normalize( currentP - prevP );","    else if( prevP == currentP ) dir = normalize( nextP - currentP );","    else {","        vec2 dir1 = normalize( currentP - prevP );","        vec2 dir2 = normalize( nextP - currentP );","        dir = normalize( dir1 + dir2 );","","        vec2 perp = vec2( -dir1.y, dir1.x );","        vec2 miter = vec2( -dir.y, dir.x );","        //w = clamp( w / dot( miter, perp ), 0., 4. * lineWidth * width );","","    }","","    //vec2 normal = ( cross( vec3( dir, 0. ), vec3( 0., 0., 1. ) ) ).xy;","    vec2 normal = vec2( -dir.y, dir.x );","    normal.x /= aspect;","    normal *= .5 * w;","","    vec4 offset = vec4( normal * side, 0.0, 1.0 );","    finalPosition.xy += offset.xy;","","\t vPosition = ( modelViewMatrix * vec4( position, 1. ) ).xyz;","    gl_Position = finalPosition;","","}"].join("\r\n"),fragmentShader:["#extension GL_OES_standard_derivatives : enable","precision mediump float;","","uniform sampler2D map;","uniform float useMap;","uniform float useDash;","uniform vec2 dashArray;","uniform float visibility;","uniform float alphaTest;","","varying vec2 vUV;","varying vec4 vColor;","varying vec3 vPosition;","varying float vCounters;","","void main() {","","    vec4 c = vColor;","\t if( c.a < alphaTest ) discard;","    if( useMap == 1. ) c *= texture2D( map, vUV );","\t if( useDash == 1. ){","\t \t ","\t }","    gl_FragColor = c;","\t gl_FragColor.a *= step(vCounters,visibility);","}"].join("\r\n")});return delete e.lineWidth,delete e.map,delete e.useMap,delete e.color,delete e.opacity,delete e.resolution,delete e.sizeAttenuation,delete e.near,delete e.far,delete e.dashArray,delete e.visibility,delete e.alphaTest,n.type="MeshLineMaterial",n.setValues(e),n},a.MeshLineMaterial.prototype=Object.create(a.Material.prototype),a.MeshLineMaterial.prototype.constructor=a.MeshLineMaterial,a.MeshLineMaterial.prototype.copy=function(e){return a.Material.prototype.copy.call(this,e),this.lineWidth=e.lineWidth,this.map=e.map,this.useMap=e.useMap,this.color.copy(e.color),this.opacity=e.opacity,this.resolution.copy(e.resolution),this.sizeAttenuation=e.sizeAttenuation,this.near=e.near,this.far=e.far,this},t.MeshLine=a.MeshLine,t.MeshLineMaterial=a.MeshLineMaterial},424:function(e,t,n){var a=n(691).Frame;t.Frame=a;var r=n(751).balancedBinTree(5);t.graph=r,window&&(window.Argo=t)},429:function(e,t,n){e.exports=n.p+"static/media/argologo.560a589f.png"},463:function(e,t,n){e.exports=n(1079)},512:function(e,t){},514:function(e,t){},67:function(e,t,n){var a=n(232),r=n(692);window.THREE=a,n(693),n(694),n(695);var i=n(348).Edge,o=n(348).Node,s=n(696)(a);a.MeshLine=n(349).MeshLine,a.MeshLineMaterial=n(349).MeshLineMaterial;var l=n(1078),c=n(697),d=n(15).IS_IFRAME_WIDGET;t.default={THREE:a,STATS:r,STATS_SHOW:!1,Edge:i,Node:o,OrbitControls:s,d3:l,ee:c,NODE_COLOR:21930,NODE_HIGHLIGHT:3447003,ADJACENT_HIGHLIGHT:9807270,SEARCH_HIGHLIGHT:15105570,NODE_HTEXTURE:"http://i.imgur.com/xzkxSIw.png",NODE_TEXTURE:"http://i.imgur.com/reTXqiM.png",NODE_NO_HTEX:!0,NODE_NO_TEX:!0,NODE_NO_HCOLOR:!1,NODE_NO_COLOR:!1,NODE_NO_HIGHLIGHT:!1,NODE_NEIGHBOR_HIGHLIGHT:!0,NODE_SHAPE:"square",NODE_HSHAPE:"square",NODE_SIZE:5,HIGHLIGHT_SIZE:1,LAYOUT:"d3",LINES:"notfancy",MAP:!d,MAP_RENDER_PER_NUMBER_OF_FRAME:10,TEXT_SCALE:!0,TEXT_SIZE:.07,TEXT_X_OFFSET:.52,TEXT_Y_OFFSET:.35,TEXT_BACK_COLOR:"rgba(100, 100, 200, 0)",TEXT_OPACITY:"1",TEXT_WIREFRAME:!1,PIN_COLOR:16777215}},691:function(e,t,n){var a=n(67).default,r=(n(351).spawn,a.THREE),i=a.STATS,o=a.STATS_SHOW,s=(a.Edge,a.Node,a.OrbitControls,a.d3),l=a.ee;t.Frame=function(e,t){var c=this;this.inGraph=e,this.options=t||{layout:a.LAYOUT},this.layout_options=this.options.graphLayout||{},this.lineObjects=[],this.lineIndices=[],this.MAX_LINES=1e5,this.textureLoader=new r.TextureLoader,this.textureLoader.crossOrigin=!0,this.oldIntersect=-1,this.selection=[],this.fov=60,this.near=1,this.far=5e3,this.mouseStart=new r.Vector3(0,0,0),this.mouseEnd=new r.Vector3(0,0,0),this.dragging=null,this.showBox=!1,this.renderWidth=1e3,this.renderHeight=1e3,this.maxZoom=1e3,this.paused=!1,this.mouseDown=!1,this.ee=l({}),this.layoutInit=!0,this.labelSize=6,this.relativeFontSize=1,this.mapShowing=a.MAP,this.mapRenderPerNumberOfFrame=a.MAP_RENDER_PER_NUMBER_OF_FRAME,this.darkMode=!0,this.lastNode=null,this.rightClickedNode=null,this.doHighlightNeighbors=a.NODE_NEIGHBOR_HIGHLIGHT,this.prevHighlights=[],this.hull=null,n(729)(this),n(730)(this),n(743)(this),n(744)(this),n(745)(this),n(746)(this),n(747)(this),n(748)(this),n(749)(this),n(750)(this);var d=new i;this.display=function(){o&&(d.showPanel(0),document.body.appendChild(d.dom)),this.animate()};this.animate=function(){o&&d.begin(),c.controls.update(),c.render(),o&&d.end(),requestAnimationFrame(c.animate)},this.init=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];c.renderer=new r.WebGLRenderer({alpha:!0,antialias:e,preserveDrawingBuffer:!0}),c.minimapRenderer=new r.WebGLRenderer({alpha:!0,antialias:e,preserveDrawingBuffer:!0}),c.setDisplayParams(),c.setRendererParams(),c.setupCamera(),c.setupMinimap(),c.setupGeometry(),c.setupSelect(),c.element.innerHTML="",c.element.appendChild(c.renderer.domElement),c.element.appendChild(c.cssRenderer.domElement),c.element.appendChild(c.minimapRenderer.domElement),c.setupLayout(),c.setupGraph(),window.addEventListener("resize",function(e){e.preventDefault(),c.onWindowResize()},!1)},c.onWindowResize=function(){c.clientRect=c.element.getBoundingClientRect(),c.width=c.clientRect.width,c.height=c.clientRect.height,c.minimap.width=.2*c.height,c.minimap.height=.2*c.height,c.aspect=c.width/c.height,c.ccamera.aspect=c.aspect,c.ccamera.updateProjectionMatrix(),c.renderer.setSize(c.width,c.height),c.cssRenderer.setSize(c.width,c.height),c.minimapRenderer.setSize(.2*c.height,.2*c.height)};var u=0,p=1;this.render=function(){if(c.updateCamera(),c.updateNodes(),1==u&&(c.updateLabels(),c.updateEdges(),u=0),u+=1,p+=1,"d3"==c.options.layout&&1==c.layoutInit){var e=[];if(c.graph.forEachNode(function(t){e.push(t)}),c.force.nodes(e),c.force.force("link",s.forceLink(c.lineIndices)),c.force.restart(),c.force.stop(),c.tickToStatic&&!c.paused)for(var t=0,n=Math.ceil(Math.log(c.force.alphaMin())/Math.log(1-c.force.alphaDecay()));t<n;++t)c.force.tick();c.layoutInit=!1}c.renderer.setViewport(0,0,c.width,c.height),c.renderer.setScissor(0,0,c.width,c.height),c.renderer.setScissorTest(!0),c.renderer.render(c.scene,c.ccamera),c.cssRenderer.render(c.scene,c.ccamera),p>=this.mapRenderPerNumberOfFrame&&(p=0,c.mapShowing&&(c.minimap.width=.2*c.height,c.minimap.height=.2*c.height,c.minimapRenderer.setViewport(0,0,c.minimap.width,c.minimap.height),c.minimapRenderer.setScissor(0,0,c.minimap.width,c.minimap.height),c.minimapRenderer.setScissorTest(!0),c.minimapRenderer.render(c.scene,c.minimap.camera)))}}},693:function(e,t){!function(){var e=0;function t(){this.tolerance=-1,this.faces=[],this.newFaces=[],this.assigned=new i,this.unassigned=new i,this.vertices=[]}function n(){this.normal=new THREE.Vector3,this.midpoint=new THREE.Vector3,this.area=0,this.constant=0,this.outside=null,this.mark=e,this.edge=null}function a(e,t){this.vertex=e,this.prev=null,this.next=null,this.twin=null,this.face=t}function r(e){this.point=e,this.prev=null,this.next=null,this.face=null}function i(){this.head=null,this.tail=null}Object.assign(t.prototype,{setFromPoints:function(e){!0!==Array.isArray(e)&&console.error("THREE.QuickHull: Points parameter is not an array."),e.length<4&&console.error("THREE.QuickHull: The algorithm needs at least four points."),this.makeEmpty();for(var t=0,n=e.length;t<n;t++)this.vertices.push(new r(e[t]));return this.compute(),this},setFromObject:function(e){var t=[];return e.updateMatrixWorld(!0),e.traverse(function(e){var n,a,r,i=e.geometry;if(void 0!==i)if(i.isGeometry){var o=i.vertices;for(n=0,a=o.length;n<a;n++)(r=o[n].clone()).applyMatrix4(e.matrixWorld),t.push(r)}else if(i.isBufferGeometry){var s=i.attributes.position;if(void 0!==s)for(n=0,a=s.count;n<a;n++)(r=new THREE.Vector3).fromBufferAttribute(s,n).applyMatrix4(e.matrixWorld),t.push(r)}}),this.setFromPoints(t)},makeEmpty:function(){return this.faces=[],this.vertices=[],this},addVertexToFace:function(e,t){return e.face=t,null===t.outside?this.assigned.append(e):this.assigned.insertBefore(t.outside,e),t.outside=e,this},removeVertexFromFace:function(e,t){return e===t.outside&&(null!==e.next&&e.next.face===t?t.outside=e.next:t.outside=null),this.assigned.remove(e),this},removeAllVerticesFromFace:function(e){if(null!==e.outside){for(var t=e.outside,n=e.outside;null!==n.next&&n.next.face===e;)n=n.next;return this.assigned.removeSubList(t,n),t.prev=n.next=null,e.outside=null,t}},deleteFaceVertices:function(e,t){var n=this.removeAllVerticesFromFace(e);if(void 0!==n)if(void 0===t)this.unassigned.appendChain(n);else{var a=n;do{var r=a.next;t.distanceToPoint(a.point)>this.tolerance?this.addVertexToFace(a,t):this.unassigned.append(a),a=r}while(null!==a)}return this},resolveUnassignedPoints:function(t){if(!1===this.unassigned.isEmpty()){var n=this.unassigned.first();do{for(var a=n.next,r=this.tolerance,i=null,o=0;o<t.length;o++){var s=t[o];if(s.mark===e){var l=s.distanceToPoint(n.point);if(l>r&&(r=l,i=s),r>1e3*this.tolerance)break}}null!==i&&this.addVertexToFace(n,i),n=a}while(null!==n)}return this},computeExtremes:function(){var e,t,n,a=new THREE.Vector3,r=new THREE.Vector3,i=[],o=[];for(e=0;e<3;e++)i[e]=o[e]=this.vertices[0];for(a.copy(this.vertices[0].point),r.copy(this.vertices[0].point),e=0,t=this.vertices.length;e<t;e++){var s=this.vertices[e],l=s.point;for(n=0;n<3;n++)l.getComponent(n)<a.getComponent(n)&&(a.setComponent(n,l.getComponent(n)),i[n]=s);for(n=0;n<3;n++)l.getComponent(n)>r.getComponent(n)&&(r.setComponent(n,l.getComponent(n)),o[n]=s)}return this.tolerance=3*Number.EPSILON*(Math.max(Math.abs(a.x),Math.abs(r.x))+Math.max(Math.abs(a.y),Math.abs(r.y))+Math.max(Math.abs(a.z),Math.abs(r.z))),{min:i,max:o}},computeInitialHull:function(){var e,t,a;return function(){void 0===e&&(e=new THREE.Line3,t=new THREE.Plane,a=new THREE.Vector3);var r,i,o,s,l,c,d,u,p,h=this.vertices,m=this.computeExtremes(),g=m.min,f=m.max,b=0,E=0;for(c=0;c<3;c++)(p=f[c].point.getComponent(c)-g[c].point.getComponent(c))>b&&(b=p,E=c);for(i=g[E],o=f[E],b=0,e.set(i.point,o.point),c=0,d=this.vertices.length;c<d;c++)(r=h[c])!==i&&r!==o&&(e.closestPointToPoint(r.point,!0,a),(p=a.distanceToSquared(r.point))>b&&(b=p,s=r));for(b=0,t.setFromCoplanarPoints(i.point,o.point,s.point),c=0,d=this.vertices.length;c<d;c++)(r=h[c])!==i&&r!==o&&r!==s&&(p=Math.abs(t.distanceToPoint(r.point)))>b&&(b=p,l=r);var O=[];if(t.distanceToPoint(l.point)<0)for(O.push(n.create(i,o,s),n.create(l,o,i),n.create(l,s,o),n.create(l,i,s)),c=0;c<3;c++)u=(c+1)%3,O[c+1].getEdge(2).setTwin(O[0].getEdge(u)),O[c+1].getEdge(1).setTwin(O[u+1].getEdge(0));else for(O.push(n.create(i,s,o),n.create(l,i,o),n.create(l,o,s),n.create(l,s,i)),c=0;c<3;c++)u=(c+1)%3,O[c+1].getEdge(2).setTwin(O[0].getEdge((3-c)%3)),O[c+1].getEdge(0).setTwin(O[u+1].getEdge(1));for(c=0;c<4;c++)this.faces.push(O[c]);for(c=0,d=h.length;c<d;c++)if((r=h[c])!==i&&r!==o&&r!==s&&r!==l){b=this.tolerance;var v=null;for(u=0;u<4;u++)(p=this.faces[u].distanceToPoint(r.point))>b&&(b=p,v=this.faces[u]);null!==v&&this.addVertexToFace(r,v)}return this}}(),reindexFaces:function(){for(var t=[],n=0;n<this.faces.length;n++){var a=this.faces[n];a.mark===e&&t.push(a)}return this.faces=t,this},nextVertexToAdd:function(){if(!1===this.assigned.isEmpty()){var e,t=0,n=this.assigned.first().face,a=n.outside;do{var r=n.distanceToPoint(a.point);r>t&&(t=r,e=a),a=a.next}while(null!==a&&a.face===n);return e}},computeHorizon:function(t,n,a,r){var i;this.deleteFaceVertices(a),a.mark=1,i=null===n?n=a.getEdge(0):n.next;do{var o=i.twin,s=o.face;s.mark===e&&(s.distanceToPoint(t)>this.tolerance?this.computeHorizon(t,o,s,r):r.push(i)),i=i.next}while(i!==n);return this},addAdjoiningFace:function(e,t){var a=n.create(e,t.tail(),t.head());return this.faces.push(a),a.getEdge(-1).setTwin(t.twin),a.getEdge(0)},addNewFaces:function(e,t){this.newFaces=[];for(var n=null,a=null,r=0;r<t.length;r++){var i=t[r],o=this.addAdjoiningFace(e,i);null===n?n=o:o.next.setTwin(a),this.newFaces.push(o.face),a=o}return n.next.setTwin(a),this},addVertexToHull:function(e){var t=[];return this.unassigned.clear(),this.removeVertexFromFace(e,e.face),this.computeHorizon(e.point,null,e.face,t),this.addNewFaces(e,t),this.resolveUnassignedPoints(this.newFaces),this},cleanup:function(){return this.assigned.clear(),this.unassigned.clear(),this.newFaces=[],this},compute:function(){var e;for(this.computeInitialHull();void 0!==(e=this.nextVertexToAdd());)this.addVertexToHull(e);return this.reindexFaces(),this.cleanup(),this}}),Object.assign(n,{create:function(e,t,r){var i=new n,o=new a(e,i),s=new a(t,i),l=new a(r,i);return o.next=l.prev=s,s.next=o.prev=l,l.next=s.prev=o,i.edge=o,i.compute()}}),Object.assign(n.prototype,{getEdge:function(e){for(var t=this.edge;e>0;)t=t.next,e--;for(;e<0;)t=t.prev,e++;return t},compute:function(){var e;return function(){void 0===e&&(e=new THREE.Triangle);var t=this.edge.tail(),n=this.edge.head(),a=this.edge.next.head();return e.set(t.point,n.point,a.point),e.normal(this.normal),e.midpoint(this.midpoint),this.area=e.area(),this.constant=this.normal.dot(this.midpoint),this}}(),distanceToPoint:function(e){return this.normal.dot(e)-this.constant}}),Object.assign(a.prototype,{head:function(){return this.vertex},tail:function(){return this.prev?this.prev.vertex:null},length:function(){var e=this.head(),t=this.tail();return null!==t?t.point.distanceTo(e.point):-1},lengthSquared:function(){var e=this.head(),t=this.tail();return null!==t?t.point.distanceToSquared(e.point):-1},setTwin:function(e){return this.twin=e,e.twin=this,this}}),Object.assign(i.prototype,{first:function(){return this.head},last:function(){return this.tail},clear:function(){return this.head=this.tail=null,this},insertBefore:function(e,t){return t.prev=e.prev,t.next=e,null===t.prev?this.head=t:t.prev.next=t,e.prev=t,this},insertAfter:function(e,t){return t.prev=e,t.next=e.next,null===t.next?this.tail=t:t.next.prev=t,e.next=t,this},append:function(e){return null===this.head?this.head=e:this.tail.next=e,e.prev=this.tail,e.next=null,this.tail=e,this},appendChain:function(e){for(null===this.head?this.head=e:this.tail.next=e,e.prev=this.tail;null!==e.next;)e=e.next;return this.tail=e,this},remove:function(e){return null===e.prev?this.head=e.next:e.prev.next=e.next,null===e.next?this.tail=e.prev:e.next.prev=e.prev,this},removeSubList:function(e,t){return null===e.prev?this.head=t.next:e.prev.next=t.next,null===t.next?this.tail=e.prev:t.next.prev=e.prev,this},isEmpty:function(){return null===this.head}}),THREE.QuickHull=t}()},694:function(e,t){!function(){function e(e){THREE.Geometry.call(this),this.type="ConvexGeometry",this.fromBufferGeometry(new t(e)),this.mergeVertices()}function t(e){THREE.BufferGeometry.call(this),this.type="ConvexBufferGeometry";var t=[],n=[];void 0===THREE.QuickHull&&console.error("THREE.ConvexBufferGeometry: ConvexBufferGeometry relies on THREE.QuickHull");for(var a=(new THREE.QuickHull).setFromPoints(e).faces,r=0;r<a.length;r++){var i=a[r],o=i.edge;do{var s=o.head().point;t.push(s.x,s.y,s.z),n.push(i.normal.x,i.normal.y,i.normal.z),o=o.next}while(o!==i.edge)}this.addAttribute("position",new THREE.Float32BufferAttribute(t,3)),this.addAttribute("normal",new THREE.Float32BufferAttribute(n,3))}e.prototype=Object.create(THREE.Geometry.prototype),e.prototype.constructor=e,t.prototype=Object.create(THREE.BufferGeometry.prototype),t.prototype.constructor=t,THREE.ConvexGeometry=e,THREE.ConvexBufferGeometry=t}()},695:function(e,t,n){var a=n(232);a.CSS3DObject=function(e){a.Object3D.call(this),this.element=e,this.element.style.position="absolute",this.addEventListener("removed",function(){null!==this.element.parentNode&&this.element.parentNode.removeChild(this.element)})},a.CSS3DObject.prototype=Object.create(a.Object3D.prototype),a.CSS3DObject.prototype.constructor=a.CSS3DObject,a.CSS3DSprite=function(e){a.CSS3DObject.call(this,e)},a.CSS3DSprite.prototype=Object.create(a.CSS3DObject.prototype),a.CSS3DSprite.prototype.constructor=a.CSS3DSprite,a.CSS3DRenderer=function(){var e,t;console.log("THREE.CSS3DRenderer",a.REVISION);var n=new a.Matrix4,r={camera:{fov:0,style:""},objects:{}},i=document.createElement("div");i.style.overflow="hidden",i.style.WebkitTransformStyle="preserve-3d",i.style.MozTransformStyle="preserve-3d",i.style.oTransformStyle="preserve-3d",i.style.transformStyle="preserve-3d",this.domElement=i;var o=document.createElement("div");function s(e){return Math.abs(e)<Number.EPSILON?0:e}function l(e){var t=e.elements;return"translate3d(-50%,-50%,0) matrix3d("+s(t[0])+","+s(t[1])+","+s(t[2])+","+s(t[3])+","+s(-t[4])+","+s(-t[5])+","+s(-t[6])+","+s(-t[7])+","+s(t[8])+","+s(t[9])+","+s(t[10])+","+s(t[11])+","+s(t[12])+","+s(t[13])+","+s(t[14])+","+s(t[15])+")"}o.style.position="absolute",o.style.left="50%",o.style.top="50%",o.style.WebkitTransformStyle="preserve-3d",o.style.MozTransformStyle="preserve-3d",o.style.oTransformStyle="preserve-3d",o.style.transformStyle="preserve-3d",i.appendChild(o),this.setClearColor=function(){},this.isPaused=!1,this.getSize=function(){return{width:e,height:t}},this.setSize=function(n,a){e=n,t=a,i.style.width=n+"px",i.style.height=a+"px"},this.render=function(e,c){if(!this.isPaused){var d=.5/Math.tan(a.Math.degToRad(.5*c.getEffectiveFOV()))*t;r.camera.fov!==d&&(i.style.WebkitPerspective=d+"px",i.style.MozPerspective=d+"px",i.style.oPerspective=d+"px",i.style.perspective=d+"px",r.camera.fov=d),e.updateMatrixWorld(),null===c.parent&&c.updateMatrixWorld(),c.matrixWorldInverse.getInverse(c.matrixWorld);var u="translateZ("+d+"px)"+function(e){var t=e.elements;return"matrix3d("+s(t[0])+","+s(-t[1])+","+s(t[2])+","+s(t[3])+","+s(t[4])+","+s(-t[5])+","+s(t[6])+","+s(t[7])+","+s(t[8])+","+s(-t[9])+","+s(t[10])+","+s(t[11])+","+s(t[12])+","+s(-t[13])+","+s(t[14])+","+s(t[15])+")"}(c.matrixWorldInverse);r.camera.style!==u&&(o.style.WebkitTransform=u,o.style.MozTransform=u,o.style.oTransform=u,o.style.transform=u,r.camera.style=u),function e(t,i){if(t instanceof a.CSS3DObject){var s;t instanceof a.CSS3DSprite?(n.copy(i.matrixWorldInverse),n.transpose(),n.copyPosition(t.matrixWorld),n.scale(t.scale),n.elements[3]=0,n.elements[7]=0,n.elements[11]=0,n.elements[15]=1,s=l(n)):s=l(t.matrixWorld);var c=t.element,d=r.objects[t.id];void 0!==d&&d===s||(c.style.WebkitTransform=s,c.style.MozTransform=s,c.style.oTransform=s,c.style.transform=s,r.objects[t.id]=s),c.parentNode!==o&&o.appendChild(c)}for(var u=0,p=t.children.length;u<p;u++)e(t.children[u],i)}(e,c)}}}},696:function(e,t){e.exports=function(e){function t(t,n){this.object=t,this.domElement=void 0!==n?n:document,this.enabled=!0,this.target=new e.Vector3,this.minDistance=0,this.maxDistance=1/0,this.minZoom=0,this.maxZoom=1/0,this.minPolarAngle=0,this.maxPolarAngle=Math.PI,this.minAzimuthAngle=-1/0,this.maxAzimuthAngle=1/0,this.enableDamping=!1,this.dampingFactor=.25,this.enableZoom=!0,this.zoomSpeed=1,this.enableRotate=!0,this.rotateSpeed=1,this.enablePan=!0,this.keyPanSpeed=7,this.autoRotate=!1,this.autoRotateSpeed=2,this.enableKeys=!0,this.keys={LEFT:37,UP:38,RIGHT:39,BOTTOM:40,SPACE:32},this.mouseButtons={ORBIT:e.MOUSE.LEFT,ZOOM:e.MOUSE.MIDDLE,PAN:e.MOUSE.RIGHT},this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.spacePan=!1,this.bothPan=!1,this.getPolarAngle=function(){return d.phi},this.getAzimuthalAngle=function(){return d.theta},this.reset=function(){a.target.copy(a.target0),a.object.position.copy(a.position0),a.object.zoom=a.zoom0,a.object.updateProjectionMatrix(),a.dispatchEvent(r),a.update(),l=s.NONE},this.update=function(){var n=new e.Vector3,i=(new e.Quaternion).setFromUnitVectors(t.up,new e.Vector3(0,1,0)),o=i.clone().inverse(),g=new e.Vector3,f=new e.Quaternion;return function(){var e=a.object.position;return n.copy(e).sub(a.target),n.applyQuaternion(i),d.setFromVector3(n),a.autoRotate&&l===s.NONE&&j(2*Math.PI/60/60*a.autoRotateSpeed),d.theta+=u.theta,d.phi+=u.phi,d.theta=Math.max(a.minAzimuthAngle,Math.min(a.maxAzimuthAngle,d.theta)),d.phi=Math.max(a.minPolarAngle,Math.min(a.maxPolarAngle,d.phi)),d.makeSafe(),d.radius*=p,d.radius=Math.max(a.minDistance,Math.min(a.maxDistance,d.radius)),a.target.add(h),n.setFromSpherical(d),n.applyQuaternion(o),e.copy(a.target).add(n),a.object.lookAt(a.target),!0===a.enableDamping?(u.theta*=1-a.dampingFactor,u.phi*=1-a.dampingFactor):u.set(0,0,0),p=1,h.set(0,0,0),!!(m||g.distanceToSquared(a.object.position)>c||8*(1-f.dot(a.object.quaternion))>c)&&(a.dispatchEvent(r),g.copy(a.object.position),f.copy(a.object.quaternion),m=!1,!0)}}(),this.dispose=function(){a.domElement.removeEventListener("contextmenu",z,!1),a.domElement.removeEventListener("mousedown",I,!1),a.domElement.removeEventListener("wheel",M,!1),a.domElement.removeEventListener("touchstart",F,!1),a.domElement.removeEventListener("touchend",H,!1),a.domElement.removeEventListener("touchmove",G,!1),document.removeEventListener("mousemove",R,!1),document.removeEventListener("mouseup",P,!1),window.removeEventListener("keydown",k,!1)};var a=this,r={type:"change"},i={type:"start"},o={type:"end"},s={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_DOLLY:4,TOUCH_PAN:5},l=s.NONE,c=1e-6,d=new e.Spherical,u=new e.Spherical,p=1,h=new e.Vector3,m=!1,g=new e.Vector2,f=new e.Vector2,b=new e.Vector2,E=new e.Vector2,O=new e.Vector2,v=new e.Vector2,y=new e.Vector2,N=new e.Vector2,w=new e.Vector2;function S(){return Math.pow(.95,a.zoomSpeed)}function j(e){u.theta-=e}function D(e){u.phi-=e}var C=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,0),t.multiplyScalar(-e),h.add(t)}}(),x=function(){var t=new e.Vector3;return function(e,n){t.setFromMatrixColumn(n,1),t.multiplyScalar(e),h.add(t)}}(),_=function(){var t=new e.Vector3;return function(n,r){var i=a.domElement===document?a.domElement.body:a.domElement;if(a.object instanceof e.PerspectiveCamera){var o=a.object.position;t.copy(o).sub(a.target);var s=t.length();s*=Math.tan(a.object.fov/2*Math.PI/180),C(2*n*s/i.clientHeight,a.object.matrix),x(2*r*s/i.clientHeight,a.object.matrix)}else a.object instanceof e.OrthographicCamera?(C(n*(a.object.right-a.object.left)/a.object.zoom/i.clientWidth,a.object.matrix),x(r*(a.object.top-a.object.bottom)/a.object.zoom/i.clientHeight,a.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),a.enablePan=!1)}}();function L(t){a.object instanceof e.PerspectiveCamera?p/=t:a.object instanceof e.OrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom*t)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function T(t){a.object instanceof e.PerspectiveCamera?p*=t:a.object instanceof e.OrthographicCamera?(a.object.zoom=Math.max(a.minZoom,Math.min(a.maxZoom,a.object.zoom/t)),a.object.updateProjectionMatrix(),m=!0):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),a.enableZoom=!1)}function A(e){E.set(e.clientX,e.clientY)}function I(e){if(!1!==a.enabled){if(e.preventDefault(),e.button===a.mouseButtons.ORBIT){if(!1===a.enableRotate)return;!function(e){g.set(e.clientX,e.clientY)}(e),l=s.ROTATE}else if(e.button===a.mouseButtons.ZOOM){if(!1===a.enableZoom)return;!function(e){y.set(e.clientX,e.clientY)}(e),l=s.DOLLY}else if(e.button===a.mouseButtons.PAN){if(!1===a.enablePan)return;a.spacePan&&!a.bothPan||(A(e),l=s.PAN)}l!==s.NONE&&(document.addEventListener("mousemove",R,!1),document.addEventListener("mouseup",P,!1),a.dispatchEvent(i))}}function R(e){if(!1!==a.enabled)if(e.preventDefault(),l===s.ROTATE){if(!1===a.enableRotate)return;!function(e){f.set(e.clientX,e.clientY),b.subVectors(f,g);var t=a.domElement===document?a.domElement.body:a.domElement;j(2*Math.PI*b.x/t.clientWidth*a.rotateSpeed),D(2*Math.PI*b.y/t.clientHeight*a.rotateSpeed),g.copy(f),a.update()}(e)}else if(l===s.DOLLY){if(!1===a.enableZoom)return;!function(e){N.set(e.clientX,e.clientY),w.subVectors(N,y),w.y>0?L(S()):w.y<0&&T(S()),y.copy(N),a.update()}(e)}else if(l===s.PAN){if(!1===a.enablePan)return;1==a.spacePan&&1==a.spacePanStart&&(A(e),a.spacePanStart=!1),function(e){O.set(e.clientX,e.clientY),v.subVectors(O,E),_(v.x,v.y),E.copy(O),a.update()}(e)}}function P(e){!1!==a.enabled&&(document.removeEventListener("mouseup",P,!1),a.dispatchEvent(o),l=s.NONE)}function M(e){!1===a.enabled||!1===a.enableZoom||l!==s.NONE&&l!==s.ROTATE||(e.preventDefault(),e.stopPropagation(),function(e){e.deltaY<0?T(S()):e.deltaY>0&&L(S()),a.update()}(e),a.dispatchEvent(i),a.dispatchEvent(o))}function k(e){!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan&&(document.addEventListener("mousemove",R,!1),function(e){switch(e.keyCode){case a.keys.UP:_(0,a.keyPanSpeed),a.update();break;case a.keys.BOTTOM:_(0,-a.keyPanSpeed),a.update();break;case a.keys.LEFT:_(a.keyPanSpeed,0),a.update();break;case a.keys.RIGHT:_(-a.keyPanSpeed,0),a.update();break;case a.keys.SPACE:1==a.spacePan&&(a.spacePanStart=!0,l=s.PAN)}}(e))}function F(e){if(!1!==a.enabled){switch(e.touches.length){case 1:if(!1===a.enableRotate)return;!function(e){g.set(e.touches[0].pageX,e.touches[0].pageY)}(e),l=s.TOUCH_ROTATE;break;case 2:if(!1===a.enableZoom)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,a=Math.sqrt(t*t+n*n);y.set(0,a)}(e),l=s.TOUCH_DOLLY;break;case 3:if(!1===a.enablePan)return;!function(e){E.set(e.touches[0].pageX,e.touches[0].pageY)}(e),l=s.TOUCH_PAN;break;default:l=s.NONE}l!==s.NONE&&a.dispatchEvent(i)}}function G(e){if(!1!==a.enabled)switch(e.preventDefault(),e.stopPropagation(),e.touches.length){case 1:if(!1===a.enableRotate)return;if(l!==s.TOUCH_ROTATE)return;!function(e){f.set(e.touches[0].pageX,e.touches[0].pageY),b.subVectors(f,g);var t=a.domElement===document?a.domElement.body:a.domElement;j(2*Math.PI*b.x/t.clientWidth*a.rotateSpeed),D(2*Math.PI*b.y/t.clientHeight*a.rotateSpeed),g.copy(f),a.update()}(e);break;case 2:if(!1===a.enableZoom)return;if(l!==s.TOUCH_DOLLY)return;!function(e){var t=e.touches[0].pageX-e.touches[1].pageX,n=e.touches[0].pageY-e.touches[1].pageY,r=Math.sqrt(t*t+n*n);N.set(0,r),w.subVectors(N,y),w.y>0?T(S()):w.y<0&&L(S()),y.copy(N),a.update()}(e);break;case 3:if(!1===a.enablePan)return;if(l!==s.TOUCH_PAN)return;!function(e){O.set(e.touches[0].pageX,e.touches[0].pageY),v.subVectors(O,E),_(v.x,v.y),E.copy(O),a.update()}(e);break;default:l=s.NONE}}function H(e){!1!==a.enabled&&(a.dispatchEvent(o),l=s.NONE)}function z(e){e.preventDefault()}this.pan=_,a.domElement.addEventListener("contextmenu",z,!1),a.domElement.addEventListener("mousedown",I,!1),a.domElement.addEventListener("wheel",M,!1),a.domElement.addEventListener("touchstart",F,!1),a.domElement.addEventListener("touchend",H,!1),a.domElement.addEventListener("touchmove",G,!1),window.addEventListener("keydown",k,!1),window.addEventListener("keyup",function(e){!1!==a.enabled&&!1!==a.enableKeys&&!1!==a.enablePan&&function(e){switch(e.keyCode){case a.keys.SPACE:1==a.spacePan&&(a.spacePanStart=!1,l=s.NONE)}}(e)},!1),this.update()}return t.prototype=Object.create(e.EventDispatcher.prototype),t.prototype.constructor=t,Object.defineProperties(t.prototype,{center:{get:function(){return console.warn("THREE.OrbitControls: .center has been renamed to .target"),this.target}},noZoom:{get:function(){return console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),!this.enableZoom},set:function(e){console.warn("THREE.OrbitControls: .noZoom has been deprecated. Use .enableZoom instead."),this.enableZoom=!e}},noRotate:{get:function(){return console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),!this.enableRotate},set:function(e){console.warn("THREE.OrbitControls: .noRotate has been deprecated. Use .enableRotate instead."),this.enableRotate=!e}},noPan:{get:function(){return console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),!this.enablePan},set:function(e){console.warn("THREE.OrbitControls: .noPan has been deprecated. Use .enablePan instead."),this.enablePan=!e}},noKeys:{get:function(){return console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),!this.enableKeys},set:function(e){console.warn("THREE.OrbitControls: .noKeys has been deprecated. Use .enableKeys instead."),this.enableKeys=!e}},staticMoving:{get:function(){return console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),!this.enableDamping},set:function(e){console.warn("THREE.OrbitControls: .staticMoving has been deprecated. Use .enableDamping instead."),this.enableDamping=!e}},dynamicDampingFactor:{get:function(){return console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor},set:function(e){console.warn("THREE.OrbitControls: .dynamicDampingFactor has been renamed. Use .dampingFactor instead."),this.dampingFactor=e}}}),t}},718:function(e,t){},724:function(e,t){},725:function(e,t){},729:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee;e.exports=function(e){e.relMouseCoords=function(e,t,n){var a=0,r=0;do{a+=n.offsetLeft-n.scrollLeft,r+=n.offsetTop-n.scrollTop}while(n=n.offsetParent);return{x:e-a,y:t-r}},e.prepNode=function(e){var t=e;return e.data||(e.data={}),t.renderData={label:e.data.label||"No Label",color:e.data.color||a.NODE_COLOR,hcolor:e.data.hcolor||a.NODE_HIGHLIGHT,shape:e.data.shape||a.NODE_SHAPE,linecolor:new r.Color(.5,.5,.5),numYeast:Math.ceil(8*Math.random()),size:e.data.size,tsize:e.data.tsize||a.TEXT_SIZE,x:0,y:0,vx:0,vy:0},t},e.make1x1Rect=function(){var e=new r.Shape;return e.moveTo(0,0),e.lineTo(0,1),e.lineTo(1,1),e.lineTo(1,0),e.lineTo(0,0),e.lineTo(0,1),new r.ShapeGeometry(e)},e.make2x2Rect=function(){var e=new r.Shape;return e.moveTo(-1,-1),e.lineTo(-1,1),e.lineTo(1,1),e.lineTo(1,-1),e.lineTo(-1,-1),new r.ShapeGeometry(e)},e.volToRadius=function(e){return Math.pow(e/Math.PI*.75,1/3)}}},730:function(e,t,n){var a=n(67).default,r=a.THREE,i=(a.Edge,a.Node,a.OrbitControls),o=a.d3;a.ee;e.exports=function(e){e.setupGraph=function(){var t=n(103);e.graph=t(),e.inGraph&&e.updateGraph(e.inGraph)},e.setupLayout=function(){"ngraph"==e.options.layout?e.setupNgraphLayout():"d3"==e.options.layout&&e.setupD3Layout()},e.setupNgraphLayout=function(){e.force=n(731)(e.graph)},e.setupD3Layout=function(){e.force=o.forceSimulation().force("charge",o.forceManyBody().strength(-1)).force("link",o.forceLink()).force("y",o.forceY(0).strength(.001)).force("x",o.forceX(0).strength(.001)).stop(),e.force.alphaDecay(.005),e.force.velocityDecay(.1)},e.setDisplayParams=function(){e.element=document.getElementById("graph-container"),e.clientRect=e.element.getBoundingClientRect(),e.width=e.clientRect.width,e.height=e.clientRect.height,e.aspect=e.width/e.height,e.resolution=new r.Vector2(e.width,e.height)},e.setRendererParams=function(){e.renderer.setSize(e.width,e.height),e.cssRenderer=new r.CSS3DRenderer,e.cssRenderer.setSize(e.width,e.height),e.cssRenderer.domElement.style.position="absolute",e.cssRenderer.domElement.style.top=0,e.minimapRenderer.domElement.style.position="absolute",e.minimapRenderer.domElement.style.bottom=0,e.minimapRenderer.domElement.style.left=0,e.minimapRenderer.setSize(.2*e.height,.2*e.height),e.minimapRenderer.zIndex=1e3,e.renderer.setPixelRatio(window.devicePixelRatio)},e.setupCamera=function(){e.ccamera=new r.PerspectiveCamera(e.fov,e.width/e.height,e.near,e.far),e.ccamera.position.z=200;var t=new i(e.ccamera,e.element);t.spacePan=!0,t.bothPan=!0,t.minDistance=10,t.maxDistance=2*e.renderWidth,t.target.set(0,0,0),t.enableRotate=!1,e.controls=t},e.setupMinimap=function(){e.minimap={},e.minimap.camera=new r.PerspectiveCamera(e.fov,1,e.near,e.far),e.minimap.camera.position.z=2*e.renderWidth,e.oldCoords={x:null,y:null,z:null},e.minimap.panToMousePosition=function(t,n){if(e.ccamera.position.x!=e.oldCoords.x||e.ccamera.position.y!=e.oldCoords.y||e.ccamera.position.z!=e.oldCoords.z){e.oldCoords.x=e.ccamera.position.x,e.oldCoords.y=e.ccamera.position.y,e.oldCoords.z=e.ccamera.position.z;var a=(e.height-200)/e.ccamera.position.z;e.controls.pan((t/e.minimap.width*4e3-2e3-e.ccamera.position.x)*-a,((e.height-n)/e.minimap.height*4e3-2e3-e.ccamera.position.y)*a)}}},e.setupGeometry=function(){e.scene=new r.Scene,e.points=new r.BufferGeometry,e.nodes=new r.Group,e.scene.add(e.nodes),"fancy"==a.LINES?e.setupFancyEdges():e.setUpSimpleEdges();var t=e.make1x1Rect();e.setupSelectionBox(t),e.setupBoundaries(t),e.setupViewPort(t)},e.setupFancyEdges=function(){e.edges=[],e.edgeCount=0},e.setUpSimpleEdges=function(){e.edges=new r.BufferGeometry;var t=new r.LineBasicMaterial({linewidth:2,color:16777215,vertexColors:r.VertexColors,shading:r.FlatShading});e.line=new r.LineSegments(e.edges,t),e.line.frustumCulled=!1,e.scene.add(e.line);var n=new r.BufferAttribute(new Float32Array(3*e.MAX_LINES),3),a=new r.BufferAttribute(new Float32Array(3*e.MAX_LINES),3);e.edges.addAttribute("position",n),e.edges.addAttribute("color",a),e.drawCount=0},e.setupSelectionBox=function(t){e.selectBox=new r.Line(t,new r.LineBasicMaterial({linewidth:3,color:3381674})),e.selectBox.visible=!1,e.scene.add(e.selectBox)},e.setupBoundaries=function(t){e.boundaries=new r.Line(t,new r.LineBasicMaterial({linewidth:3,color:10066329})),e.scene.add(e.boundaries),e.setBoundarySize(2*e.renderWidth)},e.setupViewPort=function(t){e.viewPort=new r.Line(t,new r.LineBasicMaterial({linewidth:3,color:e.darkMode?16777215:0})),e.scene.add(e.viewPort),e.setViewPortSize(e.ccamera)},e.setupSelect=function(){e.points.addAttribute("position",new r.BufferAttribute(new Float32Array(60),3)),e.points.computeBoundingSphere(),e.nodeCount=0;e.setupMouseHandlers(function(t){return function(n){var a,i;n.preventDefault(),n.touches&&n.touches.length>0?(a=n.touches.item(0).pageX,i=n.touches.item(0).pageY):(a=n.pageX,i=n.pageY);var o=e.relMouseCoords(a,i,this),s=o.x/e.width*2-1,l=1-o.y/e.height*2,c=new r.Vector3(s,l,1);c.unproject(e.ccamera);var d=c.sub(e.ccamera.position).clone();c.normalize(),e.isMouseCoordinatesOnMinimap=o.x<=e.minimap.width&&e.height-o.y<=e.minimap.height,e.isMouseCoordinatesOnMinimap&&(e.minimap.mouseX=o.x,e.minimap.mouseY=o.y);var u=new r.Raycaster(e.ccamera.position,c),p=-e.ccamera.position.z/d.z,h=e.ccamera.position.clone().add(d.multiplyScalar(p));t==e.onRightClick&&3!=n.which||(t==e.onRightClick&&n.target.getAttribute("contenteditable")?n.target.focus():(n.preventDefault(),t==e.onRightClick&&e.onRightClickCoords(n),e.callMouseHandler(n,u,h,t)))}})},e.callMouseHandler=function(t,n,a,r){var i=n.intersectObjects(e.nodes.children);if(i.length){var o=i[0].object.index;e.oldIntersect=o,r(e.graph.getNode(o),a.x,a.y,t.button,t.ctrlKey)}else r(null,a.x,a.y,t.button,t.ctrlKey)},e.setupMouseHandlers=function(t){e.element.addEventListener("mousemove",t(e.onMouseMove),!1),e.element.addEventListener("mousedown",t(e.onMouseDown),!1),e.element.addEventListener("mouseup",t(e.onMouseUp),!1),e.element.addEventListener("mouseup",t(e.onRightClick),!1),e.element.addEventListener("touchstart",t(e.onMouseDown),!1),e.element.addEventListener("touchmove",t(e.onMouseMove),!1),e.element.addEventListener("touchend",t(e.onMouseUp),!1),e.element.addEventListener("touchcancel",t(e.onMouseUp),!1)}}},743:function(e,t,n){var a=n(67).default;a.THREE,a.Edge,a.Node,a.OrbitControls,a.d3,a.ee,n(163);e.exports=function(e){e.addNode=function(t){e.graph.addNode(t.id,t.data);var n=e.graph.getNode(t.id);return n.x=t.x,n.y=t.y,n.fx=t.fx,n.fy=t.fy,n.pinnedx=void 0!=t.fx,n.pinnedy=void 0!=t.fy,e.prepNode(n),e.drawNode(n),n.links=[],e.layoutInit=!0,n},e.removeNode=function(t){t&&t.id&&(e.removeGraphEdges(t),e.undrawEdges(t),e.nodes.remove(t.renderData.draw_object),e.graph.removeNode(t.id),e.undrawNode(t),e.nodeCount-=1)},e.removeGraphEdges=function(t){var n=e.graph.getLinks(t.id);n&&n.forEach(function(t){e.graph.removeLink(t)})},e.undrawNode=function(t){var n=e.force.nodes();if(n)for(var a=0;a<n.length;a++)n[a].id==t.id&&(e.scene.remove(n[a].renderData.draw_object),n[a].renderData.textHolder.children[0].element.hidden=!0,n.splice(a,1))},e.undrawEdges=function(t){for(var n=e.edges.attributes.position.array,a=e.edges.attributes.color.array,r=0,i=0;i-r<e.lineIndices.length;i++)if(e.lineIndices[i-r].source.id==t.id||e.lineIndices[i-r].target.id==t.id){for(var o=i-r;o<e.lineIndices.length;o++){var s=o+1;s==e.lineIndices.length?(n[6*o]=0,n[6*o+1]=0,n[6*o+3]=0,n[6*o+4]=0,a[6*o]=255,a[6*o+1]=160,a[6*o+2]=80,a[6*o+3]=255,a[6*o+4]=160,a[6*o+5]=80):(e.lineIndices[o]=e.lineIndices[s],e.lineObjects[2*o]=e.lineObjects[2*s],e.lineObjects[2*o+1]=e.lineObjects[2*s+1],n[6*o]=n[6*s],n[6*o+1]=n[6*s+1],n[6*o+3]=n[6*s+3],n[6*o+4]=n[6*s+4],a[6*o]=a[6*s],a[6*o+1]=a[6*s+1],a[6*o+2]=a[6*s+2],a[6*o+3]=a[6*s+3],a[6*o+4]=a[6*s+4],a[6*o+5]=a[6*s+5])}e.lineIndices.pop(),e.lineObjects.pop(),e.lineObjects.pop(),e.drawCount-=2,r+=1}console.log("Deleted "+r.toString()+" edges")},e.getNode=function(t){return e.graph.getNode(t)},e.addEdge=function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];e.graph.addLink(t.id,n.id),e.drawEdge(e.getNode(t.id),e.getNode(n.id),a)}}},744:function(e,t,n){var a=n(67).default;a.THREE,a.Edge,a.Node,a.d3,a.ee;e.exports=function(e){e.highlightNode=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:a.NODE_HIGHLIGHT;t?(e.renderData.draw_object.children[0].material.color.setHex(n),e.renderData.draw_object.children[0].visible=!0):(e.renderData.draw_object.children[0].material.color.set(e.renderData.hcolor),e.renderData.draw_object.children[0].visible=!1)},e.highlightEdges=function(t,n){for(var a=[],r=[],i=0;i<e.selection.length;i++)for(var o=0;o<e.selection[i].links.length;o++)a.push(e.selection[i].links[o].fromId),r.push(e.selection[i].links[o].toId);if(n){for(i=0;i<t.links.length;i++)a.push(t.links[i].fromId),r.push(t.links[i].toId);e.highlightNeighbors(t,a,r)}else e.highlightNeighbors(t,a,r)},e.highlightNeighbors=function(t,n,r){e.graph.forEachNode(function(i){if(-1!=e.selection.indexOf(i)||i==t){e.colorNodeOpacity(i,1),e.colorNodeEdge(i,.5,.5);for(var o=0;i.linkObjs&&o<i.linkObjs.length;o++)i.linkObjs[o].linecolor=i.renderData.linecolor}else!e.doHighlightNeighbors||-1==n.indexOf(i.id)&&-1==r.indexOf(i.id)?e.prevHighlights&&-1!=e.prevHighlights.indexOf(i.id)||(e.colorNodeOpacity(i,.5),e.colorNodeEdge(i,.3,.9),e.highlightNode(i,!1,a.ADJACENT_HIGHLIGHT)):(e.colorNodeOpacity(i,1),e.colorNodeEdge(i,.3,.9))})},e.colorNodeEdge=function(t,n,a){t.renderData.linecolor.r=e.darkMode?n:a,t.renderData.linecolor.g=e.darkMode?n:a,t.renderData.linecolor.b=e.darkMode?n:a},e.colorNodeOpacity=function(e,t){e.renderData.draw_object.material.opacity=t}}},745:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee,n(163);e.exports=function(e){e.selectNode=function(t){e.dragging=t,e.selection=[t],t.renderData.isSelected=!0,e.updateSelection(e.mouseX,e.mouseY)},e.clearSelection=function(){for(var t=0;t<e.selection.length;t++)e.selection[t].renderData.isSelected=!1,a.NODE_NO_HIGHLIGHT?e.selection[t].renderData.draw_object.material.color.set(new r.Color(e.selection[t].renderData.color)):e.selection[t].renderData.draw_object.children[0].visible=!1,e.selection[t].renderData.textHolder.children[0].element.hideme=!0;e.selection=[]},e.updateSelection=function(t,n){if(e.dragging)var i=t-e.dragging.x,o=n-e.dragging.y;for(var s=0;s<e.selection.length;s++)e.dragging&&(e.selection[s].x+=i,e.selection[s].y+=o,e.selection[s].fx=e.selection[s].x,e.selection[s].fy=e.selection[s].y,e.selection[s].pinnedx=!0,e.selection[s].pinnedy=!0),a.NODE_NO_HIGHLIGHT?e.selection[s].renderData.draw_object.material.color.set(new r.Color(e.selection[s].renderData.hcolor)):e.selection[s].renderData.draw_object.children[0].visible=!0,e.selection[s].renderData.textHolder.children[0].element.hideme=!1},e.checkSelection=function(t,n){if(!e.dragging){if(e.mouseEnd=new r.Vector3(t,n,0),e.mouseStart.x<e.mouseEnd.x)var a=e.mouseStart,i=e.mouseEnd;else a=e.mouseEnd,i=e.mouseStart;e.graph.forEachNode(function(t){var n;"ngraph"==e.options.layout?n=e.force.getNodePosition(t.id):"d3"==e.options.layout&&(n=t),e.insideBox(a,i,n.x,n.y)&&e.selection.push(t)})}},e.insideBox=function(e,t,n,a){return n<t.x&&n>e.x&&(a>t.y&&a<e.y||a<t.y&&a>e.y)}}},746:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee,n(163);e.exports=function(e){e.onMouseMove=function(t,n,a,i,o){if(e.mouseX=n,e.mouseY=a,e.leftMouseDown&&e.mouseDown&&(e.dragging||-1!=e.selection.indexOf(t)||o||e.clearSelection(),e.dragging||e.checkSelection(n,a)),e.selection.length>0&&(e.dragging&&e.force.alpha(1),e.updateSelection(n,a)),e.mouseDown){if(e.isMouseCoordinatesOnMinimap&&e.mapShowing)return void e.minimap.panToMousePosition(e.minimap.mouseX,e.minimap.mouseY);if(e.leftMouseDown&&!e.dragging){e.showBox&&(e.selectBox.visible=!0,e.showBox=!1),e.selectBox.position.x=n,e.selectBox.position.y=a;var s=e.mouseStart.x-n,l=e.mouseStart.y-a;e.selectBox.scale.set(s,l,1)}else e.selectBox.visible=!1}else e.onHover(t),e.mouseStart=new r.Vector3(n,a,0)},e.onHover=function(t){if(e.lastHover&&-1==e.selection.indexOf(e.lastHover)&&(e.highlightNode(e.lastHover,!1),e.lastHover.renderData.textHolder.children[0].element.hideme=!0,e.highlightEdges(t,!1)),e.lastHover=t,t?(e.highlightNode(t,!0),t.renderData.textHolder.children[0].element.hideme=!1,e.highlightEdges(t,!0)):0==e.selection.length&&e.graph.forEachNode(function(t){e.colorNodeOpacity(t,1),e.colorNodeEdge(t,.5,.5),e.highlightNode(t,!1,a.ADJACENT_HIGHLIGHT)}),void 0!=e.prevHighlights)for(var n=0;n<e.prevHighlights.length;n++)e.colorNodeOpacity(e.prevHighlights[n],1),e.highlightNode(e.prevHighlights[n],!0,a.SEARCH_HIGHLIGHT)};var t=0,n=0;e.onMouseDown=function(n,i,o,s,l){if(e.isMouseCoordinatesOnMinimap&&e.mapShowing)return e.mouseDown=!0,void e.minimap.panToMousePosition(e.minimap.mouseX,e.minimap.mouseY);if(t=Date.now(),e.leftMouseDown=!0,e.leftMouseDown){if(e.mouseDown=!0,e.mouseStart=new r.Vector3(i,o,0),0!=s||e.dragging||(e.showBox=!0),-1==e.selection.indexOf(n)&&!l){for(var c=0;c<e.selection.length;c++)e.selection[c].renderData.isSelected=!1,a.NODE_NO_HIGHLIGHT?e.selection[c].renderData.draw_object.material.color.set(new r.Color(e.selection[c].renderData.color)):e.selection[c].renderData.draw_object.children[0].visible=!1,e.selection[c].renderData.textHolder.children[0].element.hideme=!0;e.selection=[]}n?(e.dragging=n,-1==e.selection.indexOf(n)?(e.selection.push(n),n.renderData.isSelected=!0,e.updateSelection(e.dragging.x,e.dragging.y)):l&&(e.selection.splice(e.selection.indexOf(n),1),n.renderData.isSelected=!1,a.NODE_NO_HIGHLIGHT?n.renderData.draw_object.material.color.set(new r.Color(e.selection[c].renderData.color)):n.renderData.draw_object.children[0].visible=!1,n.renderData.textHolder.children[0].element.hideme=!0,e.dragging=null)):e.newNodeIds&&(e.highlightNodeIds([],!0),e.newNodeIds=void 0)}},e.onMouseUp=function(t,a,r,i){n=Date.now(),e.mouseDown=!1,e.showBox=!1,e.dragging=null,e.selectBox.visible=!1,e.ee.emit("select-nodes",e.selection)},e.onRightClick=function(t){e.rightClickedNode=t||null},e.onRightClickCoords=function(a){n-t<200&&e.ee.emit("right-click",{pageX:a.pageX,pageY:a.pageY})}}},747:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee;e.exports=function(e){e.setUniformNodeSize=function(t){e.graph.forEachNode(function(e){e.renderData.draw_object.scale.set(t,t,1);var n=1+a.HIGHLIGHT_SIZE/t;e.renderData.draw_object.children[0].scale.set(n,n,1)})},e.setNodeDataSize=function(t){e.graph.forEachNode(function(e){if(dataVal=e.renderData[t],dataVal){dataVal=Math.log(dataVal+1),e.renderData.draw_object.scale.set(dataVal,dataVal,1);var n=1+a.HIGHLIGHT_SIZE/dataVal;e.renderData.draw_object.children[0].scale.set(n,n,1)}else console.log("Data value does not exist")})},e.setUniformNodeColor=function(t){e.graph.forEachNode(function(e){e.renderData.draw_object.material.color.set(new r.Color("hsl("+t+", 100%, 43%)")),a.NODE_NO_HIGHLIGHT||e.renderData.draw_object.children[0].material.color.set(new r.Color("hsl("+t+", 100%, 63%)"))})},e.setNodeDataColor=function(t){var n=0;values=[],min=null,max=null,e.graph.forEachNode(function(e){(dataVal=e.renderData[t])?(null==min&&(min=dataVal),null==max&&(max=dataVal),dataVal<min?min=dataVal:dataVal>max&&(max=dataVal),values[n]=dataVal,n+=1):values[n]=-1}),n=0,e.graph.forEachNode(function(e){var t;-1==values[n]?t=0:(values[n]=(values[n]-min)/(max-min),t=120*values[n]),e.renderData.draw_object.material.color.set(new r.Color("hsl("+t+", 100%, 48%)")),a.NODE_NO_HIGHLIGHT||e.renderData.draw_object.children[0].material.color.set(new r.Color("hsl("+t+", 100%, 63%)")),n++})},e.mapNodeAttributes=function(t){var n,r,i,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;n="degree"==t[0]?function(e){return e.links?e.links.length+2:2}:"scalex"==t[0]?function(e){return e.renderData.draw_object.scale.x}:function(e){return t[0]},r="volume"==t[1]?function(t){return e.volToRadius(t)}:"mult"==t[1]?function(e){return e*t[3](e)}:"add"==t[1]?function(e){return e+t[3](e)}:"log"==t[1]?function(e){return Math.log(e)}:function(e){return e},"scalexy"==t[2]?i=function(e,t){e.renderData.draw_object.scale.set(t,t,1);var n=1+a.HIGHLIGHT_SIZE/t;e.renderData.draw_object.children[0].scale.set(n,n,1)}:"edgeColorRed"==t[2]?i=function(e,t){e.renderData.linecolor.r=1,e.renderData.linecolor.b=1-t/5,e.renderData.linecolor.g=1-t/5}:"edgeColorBlue"==t[2]?i=function(e,t){e.renderData.linecolor.b=1,e.renderData.linecolor.r=1-t/5,e.renderData.linecolor.g=1-t/5}:"edgeColorGreen"==t[2]?i=function(e,t){e.renderData.linecolor.g=1,e.renderData.linecolor.b=1-t/5,e.renderData.linecolor.r=1-t/5}:"nodeColorBlue"==t[2]?i=function(e,t){e.renderData.draw_object.material.color.b=1,e.renderData.draw_object.material.color.r=1-t/5,e.renderData.draw_object.material.color.g=1-t/5}:"pinned"==t[2]?i=function(e,t){e.pinnedx=t,e.pinnedy=t}:"labelSize"==t[2]?i=function(t,n){e.changeLabelFontSize(t,n)}:"labelLength"==t[2]&&(i=function(t,n){e.changeLabelLength(t,n)}),e.changeNodes(n,r,i,o)},e.changeNode=function(e,t,n,a){var r=e(a);if(void 0!=r){var i=t(r);void 0!=i&&n(a,i)}},e.changeNodes=function(t,n,a){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;if(null==r)e.graph.forEachNode(function(r){e.changeNode(t,n,a,r)});else for(var i=0;i<r.length;i++)e.changeNode(t,n,a,r[i])},e.changeLabelLength=function(e,t){e.renderData.textHolder.children[0].element.children[0].style.width=t.toString()+"ch"},e.changeLabelFontSize=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;t*=n,e.renderData.textHolder.children[0].element.children[0].style.fontSize=t.toString()+"rem"},e.setBoundarySize=function(t){e.renderWidth=t,e.renderHeight=t,e.boundaries.scale.set(2*t,2*t,1),e.boundaries.position.x=-t,e.boundaries.position.y=-t,e.controls.maxDistance=2*t,e.minimap.camera.position.z=2*e.renderWidth},e.setViewPortSize=function(t){var n=e.ccamera.position.z,a=Math.tan(t.fov*Math.PI/180*.5)*n*2+5,r=a*t.aspect+5;e.viewPort.scale.set(r,a,1),e.viewPort.position.x=t.position.x-r/2,e.viewPort.position.y=t.position.y-a/2}}},748:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee;e.exports=function(e){e.createHighlightMesh=function(t,n){if("square"==(t.renderData.hshape||t.renderData.shape||a.NODE_HSHAPE))var i=e.make2x2Rect();else i=new r.CircleGeometry(1,32);return e.createHighlightDrawObject(i,t,n)},e.createHighlightDrawObject=function(t,n,i){var o=e.getNodeSize(n),s=a.HIGHLIGHT_SIZE;i=a.NODE_NO_HTEX?null:i;var l=a.NODE_NO_HCOLOR?null:parseInt(n.renderData.hcolor||a.NODE_HIGHLIGHT),c=new r.MeshBasicMaterial({color:l,map:i});c.transparent=!0;var d=new r.Mesh(t,c);return d.visible=!0,d.scale.set(1+s/o,1+s/o,1),d.position.z=-.01,d},e.createNodeMesh=function(t,n){if("square"==(t.renderData.shape||a.NODE_SHAPE))var i=e.make2x2Rect();else i=new r.CircleGeometry(1,32);return e.createNodeDrawObject(i,t,n)},e.createPinMesh=function(t){var n=e.make2x2Rect(),i=new r.Color(a.PIN_COLOR),o=new r.MeshBasicMaterial({color:i}),s=new r.Mesh(n,o);return s.scale.set(.1,.1,1),s.position.z=.01,s.visible=!1,s},e.createNodeDrawObject=function(t,n,i){var o=e.getNodeSize(n);i=a.NODE_NO_TEX?null:i;var s=a.NODE_NO_COLOR?null:new r.Color(n.renderData.color||a.NODE_COLOR),l=new r.MeshBasicMaterial({color:s,map:i});l.transparent=!0;var c=new r.Mesh(t,l);return c.scale.set(o,o,1),c},e.getNodeSize=function(e){return e.renderData.size,e.renderData.size},e.createNodeLabel=function(t){var n=new r.MeshBasicMaterial({color:0,wireframe:!0,wireframeLinewidth:1,side:r.DoubleSide}),a=new r.PlaneGeometry(1e3,200),i=e.createAndSetupLabelTextMesh(a,n),o=e.createAndSetupLabelDiv(t,i),s=e.createAndSetupTextHolder(o,i);t.renderData.textHolder=s,e.scene.add(s)},e.createAndSetupLabelTextMesh=function(e,t){var n=new r.Mesh(e,t);n.scale.set(a.TEXT_SIZE,a.TEXT_SIZE,1);var i=(new r.Box3).setFromObject(n);return n.position.x+=(i.max.x-i.min.x)*a.TEXT_X_OFFSET,n.position.y-=(i.max.y-i.min.y)*a.TEXT_Y_OFFSET,n.visible=a.TEXT_WIREFRAME,n},e.createAndSetupLabelDiv=function(t,n){var a=e.createLabelDiv(t);return a.element.hidden=!0,a.position.copy(n.position),a.scale.copy(n.scale),a},e.createAndSetupTextHolder=function(e,t){var n=new r.Object3D;return n.add(e),n.add(t),n},e.createLabelDiv=function(t){var n=e.createLabelDivElement(),a=document.createTextNode(t.renderData.label),i=e.createLabelTextElement();return i.appendChild(a),n.appendChild(i),new r.CSS3DObject(n)},e.createLabelDivElement=function(){var e=document.createElement("div");return e.style.width="1000px",e.style.height="200px",e.style.backgroundColor=a.TEXT_BACK_COLOR,e.style.opacity=a.TEXT_OPACITY,e},e.createLabelTextElement=function(){var e=document.createElement("div");return e.style.width="1000px",e.style.height="2ch",e.style.fontSize="96px",e.style.textOverflow="ellipsis",e.style.overflow="hidden",e.style.userSelect="all",e.style.whiteSpace="nowrap",e},e.setupNodeDrawObject=function(t,n,r){var i=e.createNodeMesh(t,r);if(!a.NODE_NO_HIGHLIGHT){var o=e.createHighlightMesh(t,n);i.add(o)}var s=e.createPinMesh();return i.add(s),i.position.x=t.renderData.x,i.position.y=t.renderData.y,i.index=t.id,i.name=t.id,t.renderData.draw_object=i,i},e.drawNode=function(t){function n(t,n,a){var r=e.setupNodeDrawObject(t,n,a);e.createNodeLabel(t),e.nodeCount+=1,e.nodes.add(r)}a.NODE_NO_HTEX&&a.NODE_NO_TEX?n(t,null,null):e.textureLoader.load(t.renderData.himage||a.NODE_HTEXTURE,function(t,r){e.textureLoader.load(t.renderData.image||a.NODE_TEXTURE,n.bind(null,t,r))}.bind(null,t))},e.drawEdge=function(t,n){var a=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(void 0!==t.renderData.draw_object&&void 0!==n.renderData.draw_object){var r=3*e.drawCount;e.lineObjects[r/3]=t,e.lineObjects[r/3+1]=n,t.linkObjs||(t.linkObjs=[]),n.linkObjs||(n.linkObjs=[]),e.lineIndices.push({source:t,target:n,hide:!a,linecolor:t.renderData.linecolor}),t.linkObjs.push(e.lineIndices[r/6]),n.linkObjs.push(e.lineIndices[r/6]),e.updateColorsAndPositions(t,n,r),e.drawCount+=2}else setTimeout(e.drawEdge.bind(null,t,n),50)},e.updateColorsAndPositions=function(t,n,a){var r=e.edges.attributes.position.array,i=e.edges.attributes.color.array,o=t.renderData.draw_object.position,s=n.renderData.draw_object.position,l=e.lineIndices[a/6].linecolor,c=e.lineIndices[a/6].linecolor;i[a]=l.b,r[a++]=o.x,i[a]=l.g,r[a++]=o.y,i[a]=l.r,r[a++]=o.z-.02,i[a]=c.b,r[a++]=s.x,i[a]=c.g,r[a++]=s.y,i[a]=c.r,r[a++]=s.z-.02}}},749:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee;e.exports=function(e){e.setMouseMode=function(t){"select"===t?(e.mouseMode="select",e.isMouseModeMove=!1):"move"===t&&(e.mouseMode="move",e.isMouseModeMove=!0)},e.pauseLayout=function(){e.paused=!0},window.pause=e.pauseLayout,e.resumeLayout=function(){e.paused=!1},e.mapSelectedNodes=function(){e.mapNodeAttributes(["degree","log","scalexy"],e.selection)},e.mapAllNodes=function(){e.mapNodeAttributes(["degree","log","scalexy"])},e.pinSelectedNodes=function(){e.mapNodeAttributes([!0,"","pinned"],e.selection)},e.unpinSelectedNodes=function(){e.mapNodeAttributes([!1,"","pinned"],e.selection)},e.setLabelFontSize=function(t){e.graph.forEachNode(function(n){e.changeLabelFontSize(n,t,e.relativeFontSize)})},e.setLabelRelativeSize=function(t){e.relativeFontSize=t,e.setLabelFontSize(e.labelSize)},e.setLabelLength=function(t){e.graph.forEachNode(function(n){e.changeLabelLength(n,t)})},e.toggleMiniMap=function(){e.mapShowing?e.hideMiniMap():e.showMiniMap()},e.showMiniMap=function(){e.mapShowing||(e.mapShowing=!0,e.element.appendChild(e.minimapRenderer.domElement))},e.hideMiniMap=function(){e.mapShowing&&(e.mapShowing=!1,e.element.removeChild(e.minimapRenderer.domElement))},e.turnOffLabelCSSRenderer=function(){e.cssRenderer.isPaused||(e.element.removeChild(e.cssRenderer.domElement),e.cssRenderer.isPaused=!0)},e.turnOnLabelCSSRenderer=function(){e.cssRenderer.isPaused&&(e.element.appendChild(e.cssRenderer.domElement),e.cssRenderer.isPaused=!1)},e.updateNodesShowingLabels=function(){var t=[];e.graph.forEachNode(function(n){e.graph.getNode(n.id).renderData.textHolder.children[0].element.override&&t.push(n.id)}),0==t.length?e.turnOffLabelCSSRenderer():e.selection.length>0&&e.dragging&&!appState.graph.frame.paused||e.turnOnLabelCSSRenderer(),e.ee.emit("show-node-label",t)},e.toggleSelectedLabels=function(){e.toggleLabels(e.selection.map(function(e){return e.id}))},e.showSelectedLabels=function(){e.showLabels(e.selection.map(function(e){return e.id}))},e.hideSelectedLabels=function(){e.hideLabels(e.selection.map(function(e){return e.id}))},e.toggleLabels=function(t){e.graph.forEachNode(function(n){if(t.includes(n.id)){var a=e.graph.getNode(n.id);void 0==a.renderData.textHolder.children[0].element.override&&(a.renderData.textHolder.children[0].element.override=!1),a.renderData.textHolder.children[0].element.override=!a.renderData.textHolder.children[0].element.override}}),e.updateNodesShowingLabels()},e.showLabels=function(t){e.graph.forEachNode(function(n){t.includes(n.id)&&(e.graph.getNode(n.id).renderData.textHolder.children[0].element.override=!0)}),e.updateNodesShowingLabels()},e.hideLabels=function(t){e.graph.forEachNode(function(n){t.includes(n.id)&&(e.graph.getNode(n.id).renderData.textHolder.children[0].element.override=!1)}),e.updateNodesShowingLabels()},e.hideAllLabels=function(){e.graph.forEachNode(function(t){(t=e.graph.getNode(t.id)).renderData.textHolder.children[0].element.override=!1}),e.updateNodesShowingLabels()},e.showAllLabels=function(){e.graph.forEachNode(function(t){(t=e.graph.getNode(t.id)).renderData.textHolder.children[0].element.override=!0}),e.updateNodesShowingLabels()},e.setCanvasSize=function(t){e.setBoundarySize(t)},e.setAllNodesShape=function(t){0==e.selection.length?e.graph.forEachNode(function(n){e.setNodeShape(e.graph.getNode(n.id),t)}):e.selection.forEach(function(n){e.setNodeShape(e.graph.getNode(n.id),t)})},e.setAllNodesShapeWithOverride=function(t,n){e.graph.forEachNode(function(a){n.has(a.id)&&n.get(a.id).has("shape")?e.setNodeShape(e.graph.getNode(a.id),n.get(a.id).get("shape")):e.setNodeShape(e.graph.getNode(a.id),t)})},e.setNodeShape=function(t,n){"square"==n?(t.renderData.shape=n,t.renderData.draw_object.geometry=e.make2x2Rect(),t.renderData.draw_object.children[0].geometry=e.make2x2Rect()):"circle"==n?(t.renderData.shape=n,t.renderData.draw_object.geometry=new r.CircleGeometry(1,32),t.renderData.draw_object.children[0].geometry=new r.CircleGeometry(1,32)):"triangle"==n?(t.renderData.shape=n,t.renderData.draw_object.geometry=new r.CircleGeometry(1,3),t.renderData.draw_object.children[0].geometry=new r.CircleGeometry(1,3)):"pentagon"==n?(t.renderData.shape=n,t.renderData.draw_object.geometry=new r.CircleGeometry(1,5),t.renderData.draw_object.children[0].geometry=new r.CircleGeometry(1,5)):"hexagon"==n?(t.renderData.shape=n,t.renderData.draw_object.geometry=new r.CircleGeometry(1,6),t.renderData.draw_object.children[0].geometry=new r.CircleGeometry(1,6)):"octagon"==n&&(t.renderData.shape=n,t.renderData.draw_object.geometry=new r.CircleGeometry(1,8),t.renderData.draw_object.children[0].geometry=new r.CircleGeometry(1,8))},e.getNumSelected=function(){return e.selection.length==e.graph.getNodesCount()?0:e.selection.length},e.toggleDark=function(){e.darkMode=!e.darkMode,e.updateViewPortEdgeColor()},e.updateViewPortEdgeColor=function(){e.viewPort.material.color=new r.Color(e.darkMode?16777215:0)},e.getGraph=function(){return e.graph},e.getNodeList=function(){var t=[];return e.graph.forEachNode(function(e){t.push(e)}),t},e.getPositions=function(){var t={};return e.graph.forEachNode(function(e){t[e.id]=[e.x,e.y]}),t},e.getPinPositions=function(){var t={};return e.graph.forEachNode(function(e){t[e.id]=[e.fx,e.fy]}),t};var t=!1;e.toggleAlias=function(){t=!t},e.setLastNode=function(t){e.lastNode=e.graph.getNode(t)},e.dragLastNode=function(){e.selectNode(e.lastNode)};var n=1;e.lowerRes=function(){n-=.1,e.renderer.setPixelRatio(n),e.onWindowResize()},e.toggleNeighborHighlight=function(){e.doHighlightNeighbors=!e.doHighlightNeighbors},e.highlightNodeIds=function(t,n){if(t.length>0&&Array.isArray(t[0])&&(t=t[0]),e.prevHighlights)for(var r=0;r<e.prevHighlights.length;r++)e.highlightNode(e.prevHighlights[r],!n,a.SEARCH_HIGHLIGHT);e.prevHighlights=[],e.graph.forEachNode(function(r){-1!=t.indexOf(r.id)&&(e.highlightNode(r,n,a.SEARCH_HIGHLIGHT),e.prevHighlights.push(r))})},e.removeSelected=function(){for(var t=0;t<e.selection.length;t++)e.removeNode(e.selection[t]);e.selection=[]},e.removeNodesByIds=function(t){for(var n=0;n<t.length;n++){var a=e.graph.getNode(t[n]);a&&e.removeNode(a)}e.selection=[]},e.getSelected=function(){return e.selection},e.getSelectedIds=function(){return e.selection.map(function(e){return e.id})}}},750:function(e,t,n){var a=n(67).default,r=a.THREE;a.Edge,a.Node,a.OrbitControls,a.d3,a.ee;e.exports=function(e){e.updateEdges=function(){e.edges.setDrawRange(0,e.drawCount+6);for(var t=e.drawCount+6,n=e.edges.attributes.position.array,a=e.edges.attributes.color.array,r=0;r<t;r+=2)if(e.lineIndices[r/2])if(e.lineIndices[r/2].hide){var i=e.lineObjects[r].renderData.draw_object.position,o=e.lineObjects[r+1].renderData.draw_object.position;n[3*r]=i.x,n[3*r+1]=i.y,n[3*r+3]=o.x,n[3*r+4]=o.y,a[3*r]=255,a[3*r+1]=255,a[3*r+2]=255,a[3*r+3]=255,a[3*r+4]=255,a[3*r+5]=255}else{i=e.lineObjects[r].renderData.draw_object.position,o=e.lineObjects[r+1].renderData.draw_object.position;var s=e.lineIndices[r/2].linecolor,l=e.lineIndices[r/2].linecolor;n[3*r]=i.x,n[3*r+1]=i.y,n[3*r+3]=o.x,n[3*r+4]=o.y,a[3*r]=s.r,a[3*r+1]=s.g,a[3*r+2]=s.b,a[3*r+3]=l.r,a[3*r+4]=l.g,a[3*r+5]=l.b}e.edges.attributes.position.needsUpdate=!0,e.edges.attributes.color.needsUpdate=!0},e.updateLabels=function(){for(var t=e.force.nodes(),n=0;n<t.length;n++){var a=e.graph.getNode(t[n].id);void 0!=a.renderData.textHolder&&(a.renderData.textHolder.children[0].element.override?a.renderData.textHolder.children[0].element.hidden=!1:a.renderData.textHolder.children[0].element.hidden=!0),a.renderData.textHolder.position.x=a.renderData.size+a.renderData.draw_object.position.x,a.renderData.textHolder.position.y=a.renderData.draw_object.position.y}},e.updateNodes=function(){if("ngraph"==e.options.layout)e.graph.forEachNode(function(t){t.renderData&&(t.renderData.draw_object.position.x=e.force.getNodePosition(t.id).x,t.renderData.draw_object.position.y=e.force.getNodePosition(t.id).y)}),e.paused||e.force.step();else if("d3"==e.options.layout){for(var t=e.force.nodes(),n=0;n<t.length;n++){t[n].x=Math.max(-e.renderWidth,Math.min(e.renderWidth,t[n].x)),t[n].y=Math.max(-e.renderHeight,Math.min(e.renderHeight,t[n].y));var a=e.graph.getNode(t[n].id);a&&a.renderData.draw_object&&(a.pinnedx?(a.fx=a.x,a.renderData.draw_object.children[1].visible=!0):(a.fx=null,a.renderData.draw_object.children[1].visible=!1),a.pinnedy?a.fy=a.y:a.fy=null,a.renderData.draw_object.position.x=t[n].x,a.renderData.draw_object.position.y=t[n].y)}e.paused||e.force.tick()}},e.updateCamera=function(){e.controls.target.x-=e.controls.object.position.x-Math.max(-e.renderWidth,Math.min(e.renderWidth,e.controls.object.position.x)),e.controls.object.position.x-=e.controls.object.position.x-Math.max(-e.renderWidth,Math.min(e.renderWidth,e.controls.object.position.x)),e.controls.target.y-=e.controls.object.position.y-Math.max(-e.renderHeight,Math.min(e.renderHeight,e.controls.object.position.y)),e.controls.object.position.y-=e.controls.object.position.y-Math.max(-e.renderHeight,Math.min(e.renderHeight,e.controls.object.position.y)),e.setViewPortSize(e.ccamera)},e.updateGraph=function(t){if(t.forEachNode(function(t){var n=e.graph.getNode(t.id);n?e.updateNode(n,t):(e.newNodeIds||(e.newNodeIds=[]),e.newNodeIds.push(t.id),e.addNode(t),1,e.lastNode=e.graph.getNode(t.id))}),t.forEachLink(function(t){e.graph.getLink(t.fromId,t.toId)||e.addEdge(e.graph.getNode(t.fromId),e.graph.getNode(t.toId))}),e.graph.forEachNode(function(n){t.getNode(n.id)||e.removeNode(n)}),e.force.alpha(1),e.force.stop(),e.tickToStatic=!1,e.newNodeIds&&(e.highlightNodeIds(e.newNodeIds,!0),e.newNodeIds.length<10)){for(var n=0;n<e.newNodeIds.length;n++)e.selection.push(e.graph.getNode(e.newNodeIds[n]));e.ee.emit("select-nodes",e.selection)}},e.updatePositions=function(t){e.graph.forEachNode(function(e){var n=t[e.id];n&&(e.x=n[0],e.y=n[1],e.pinnedx&&(e.fx=n[0]),e.pinnedy&&(e.fy=n[1]))})},e.updateNode=function(t,n){if(n.data){if(t.data.color&&n.data.color&&(t.data.color=n.data.color,t.renderData.color=t.data.color,t.renderData.draw_object.material.color.set(new r.Color(t.data.color))),n.data.size&&n.data.size>0){t.data.size=n.data.size,t.renderData.size=n.data.size,t.renderData.draw_object.scale.set(n.data.size,n.data.size,1);var i=1+a.HIGHLIGHT_SIZE/n.data.size;t.renderData.draw_object.children[0].scale.set(i,i,1)}n.data.label&&(t.data.label=n.data.label,t.renderData.label=t.data.label,t.renderData.textHolder.children[0].element.childNodes[0].innerText=t.data.label),n.data.shape&&(t.data.shape=n.data.shape,t.renderData.shape=t.data.shape,e.setNodeShape(t,t.data.shape))}}}}},[[463,1,2]]]);
//# sourceMappingURL=main.2cab8620.chunk.js.map